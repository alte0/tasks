{"version":3,"sources":["reducers/user.js","helpers/helpers.js","reducers/task.js","reducers/users.js","reducers/tasks.js","reducers/index.js","components/container/container.js","components/footer/footer.js","actions/user.js","components/search-by-tasks/search-by-tasks.js","data/data.js","plugins/show-message.js","plugins/flatpickr.js","plugins/editor.js","components/user-menu/user-menu.js","components/task/task.js","components/tasks/tasks.js","components/pagination/pagination.js","components/loading-data/loading-data.js","pages/page-tasks.js","actions/tasks.js","vars/vars.js","components/forms/form-sing-in.js","pages/page-sign-in.js","components/forms/form-sing-up.js","pages/page-sign-up.js","components/forms/form-add-task.js","actions/users.js","pages/page-add-task.js","pages/page-task.js","actions/task.js","shields/shields.js","App.js","serviceWorker.js","index.js"],"names":["initialState","name","surname","patronymic","userId","reducerUser","state","action","type","payload","checkLengthMinMaxStr","str","minLengthStr","maxLengthStr","length","hasDateExpired","dateTask","today","Date","getTime","reverseDate","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","deleteCookie","value","options","path","expires","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","setCookie","date","split","reverse","join","getActiveTitleTasks","url","textSearch","changeStatusTask","task","Object","assign","task_status","getTextInSearchParams","location","search","searchTextEncode","URLSearchParams","get","checkLoggedUser","reducerTask","reducerUsers","reducerTasks","combineReducers","user","users","tasks","Container","props","className","children","Footer","getUserInfo","SearchByTasks","valid","_handleChangeTextSearch","bind","_handleSubmitFormSearch","onSubmit","this","method","placeholder","onChange","disabled","evt","target","setState","Boolean","trim","preventDefault","history","push","Component","withRouter","fetchRequest","link","a","params","cache","fetch","response","json","getMyTasks","getMyTasksDone","getDesignatedTasks","getDesignatedTasksDone","executeTask","idTask","toastr","closeButton","debug","newestOnTop","progressBar","positionClass","onclick","showDuration","hideDuration","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","fp","editor","showMessage","message","title","time","preventDuplicates","timeOut","TypeMessage","connect","textLink","href","getActiveMenuLinks","map","item","index","key","to","onClick","window","confirm","then","msgsType","textMsgs","catch","e","console","error","sanitizer","dompurify","sanitize","getTaskContent","isShow","stringAndTags","isShowDesc","isMore","task_date_end","task_title","task_desc","task_date_start","task_date_no_limit","task_id","author_name","author_surname","author_patronymic","executor_id","executor_name","executor_patronymic","executor_surname","Fragment","dangerouslySetInnerHTML","__html","Number","data-id-task","data-title","handleClickExecuteTask","pathname","Task","isTasks","classTaskExpired","option","Tasks","classTaskItem","handleClickMore","Pagination","pagesCount","pageCurrentPagination","arr","Array","fill","lastPage","pagePrev","pageNext","handleClickChangePagePagination","data-page-id-pag","it","LoadingData","PageTasks","itemsTasks","loading","_handleClickExecuteTask","_handleClickChangePagePagination","_getSearchData","dataFunc","_getFuncData","_getData","nextProps","nextState","currUrl","nextUrl","textSearchCurr","textSearchNext","visibleTasks","slice","fn","getTasksDispatch","lengthTasks","Math","ceil","finally","dataset","result","newTasks","copyTasks","indexTask","findIndex","splice","deleteTaskFromArrTasks","pageIdPag","text","dispatch","ConfMinAndMax","freeze","MIN_LENGTH_LOGIN","MAX_LENGTH_LOGIN","MIN_LENGTH_PASSWORD","MAX_LENGTH_PASSWORD","MIN_LENGTH_TEXT","MAX_LENGTH_TEXT","ConfMinAndMaxAddTask","MAX_LENGTH_TEXT_TITLE","MAX_LENGTH_TEXT_DESK","FormSingIn","REDIRECTION_SIGN_IN_TIME","REDIRECTION_TASKS_TIME","_validateForm","login","password","isValidLogin","isValidPassword","_handleLoginChange","validForm","_handlePasswordChange","_handleSubmitForm","formData","FormData","append","body","signInUser","userInfo","getUserInfoToProps","htmlFor","id","minLength","maxLength","required","PageSingIn","FormSingUp","password2","isValidPassword2","isValidEquallyPassword","isValidName","isValidSurname","isValidPatronymic","_handlePassword2Change","_handleNameChange","_handleSurnameChange","handlePatronymicChange","signUpUser","_onBlurInput","onBlur","PageSingUp","CONFIG_FLATPICKR","locale","Russian","defaultDate","mode","dateFormat","minDate","weekNumbers","wrap","CONFIG","removePlugins","toolbar","language","mediaEmbed","previewsInData","FormAddTask","selectedDates","valueSelect","titleTask","descTask","isValidValueSelect","isValidTitleTask","isValidDescTask","_handleDatesChange","_handleDateNoLimitChange","isCheckedDateNoLimit","_handleTitleTaskChange","_handleDescTaskChange","data","_handleSelectChange","handleSubmitForm","FORM_DATA","setData","clear","setDate","inputDatesRef","React","createRef","textareaRef","elem","current","flatpickr","ClassicEditor","create","newEditor","model","on","getData","initEditor","getAllUsersDispatch","destroy","log","userIdCurrent","ref","onInput","data-input","data-toggle","data-clear","checked","user_id","user_surname","user_name","user_patronymic","PageAddTask","PageTask","getTask","fetchTaskDispatch","handleClickExit","executeTaskDispatch","PrivatePage","rest","render","from","ProtectPage","App","getUserInfoDispatch","basename","exact","hostname","middlewareEnhancer","applyMiddleware","thunkMiddleware","composedEnhancers","compose","store","createStore","rootReducer","ReactDOM","querySelector","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.58ce14ed.chunk.js","sourcesContent":["const initialState = {\r\n    name: '',\r\n    surname: '',\r\n    patronymic: '',\r\n    userId: 0\r\n}\r\n\r\nconst reducerUser = (state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case 'GET_USER_INFO':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerUser;\r\n","/**\r\n * Функция для проверки длины строки, в промежутке -  >= && <=\r\n * @param str\r\n * @param minLengthStr\r\n * @param maxLengthStr\r\n * @returns {boolean|boolean}\r\n */\r\nexport const checkLengthMinMaxStr = (str, minLengthStr, maxLengthStr) => {\r\n    return (str.length >= minLengthStr) && (str.length <= maxLengthStr);\r\n};\r\n/**\r\n * Истекла ли задача\r\n * @param dateTask - дата задачи.\r\n * @returns {boolean}\r\n */\r\nexport const hasDateExpired = (dateTask) => {\r\n    const today = new Date().getTime();\r\n    const dateEnd = new Date(reverseDate(dateTask)).getTime();\r\n\r\n    return dateEnd < today;\r\n};\r\n/**\r\n * Получение Cookie по имени\r\n * @param name - имя Cookie\r\n * @returns {any}\r\n */\r\nexport const getCookie = (name) => {\r\n    let matches = document.cookie.match(new RegExp(\r\n        // eslint-disable-next-line no-useless-escape\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n};\r\n/**\r\n *  Устанавливает куки с именем name и значением value c опциями.\r\n * @param {String} name\r\n * @param {String} value\r\n * @param {Object} options\r\n */\r\nfunction setCookie(name, value, options = {}) {\r\n    options = {\r\n        path: '/',\r\n        ...options\r\n    };\r\n\r\n    if (options.expires instanceof Date) {\r\n        options.expires = options.expires.toUTCString();\r\n    }\r\n\r\n    let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n    for (let optionKey in options) {\r\n        updatedCookie += \"; \" + optionKey;\r\n        let optionValue = options[optionKey];\r\n        if (optionValue !== true) {\r\n            updatedCookie += \"=\" + optionValue;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\n/**\r\n * Удаление Cookie по её имени.\r\n * @param {String} name\r\n */\r\nexport const deleteCookie = (name) => {\r\n    setCookie(name, \"\", {\r\n        'max-age': -1\r\n    })\r\n}\r\n/**\r\n * Переворачивает дату с сервера для js\r\n * @param {String} date\r\n */\r\nexport const reverseDate = (date) => {\r\n    return date.split('.').reverse().join('-');\r\n}\r\n/**\r\n * Возврашает заголовок для задач в зависимомти от активного скрина.\r\n * @param {String} url\r\n * @param {String} textSearch\r\n */\r\nexport const getActiveTitleTasks = (url, textSearch=\"\") => {\r\n    switch (url) {\r\n        case \"/my-tasks-done\":\r\n            return \"Мои выполненые задачи.\";\r\n        case \"/designated-tasks\":\r\n            return \"Я назначил задачи.\";\r\n        case \"/designated-tasks-done\":\r\n            return \"Выполненные задачи другими.\";\r\n        case \"/search\":\r\n            return `Результаты поиска по запросу - \"${textSearch}\"`;\r\n        default:\r\n            return \"Мои задачи.\";\r\n    }\r\n}\r\n/**\r\n * Удаление задачи. Для страниц с задачами.\r\n * @param {Object} tasks\r\n * @param {Number} idTask\r\n */\r\nexport const deleteTaskFromArrTasks = (tasks, idTask) => {\r\n    let copyTasks = [...tasks];\r\n    const indexTask = copyTasks.findIndex((task) => Number(task.task_id) === Number(idTask));\r\n\r\n    if (indexTask !== -1) {\r\n        copyTasks.splice(indexTask, 1);\r\n    }\r\n\r\n    return copyTasks;\r\n}\r\n/**\r\n * Изменение статуса задачи для страницы задач.\r\n * @param {Object} task\r\n */\r\nexport const changeStatusTask = (task) => {\r\n    return Object.assign({}, task, { task_status: \"1\" });\r\n}\r\n/**\r\n * Получение массива активных(изменяемых в зависимости от типа адреса) ссылок для меню.\r\n * @param {String} url\r\n */\r\nexport const getActiveMenuLinks = (url) => {\r\n    switch (url) {\r\n        case \"/\":\r\n            return [\r\n                { textLink: \"Выполненые задачи мною\", href: \"/my-tasks-done\" },\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n        case \"/my-tasks-done\":\r\n            return [\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n        case \"/designated-tasks\":\r\n            return [\r\n                { textLink: \"Выполненые задачи другими\", href: \"/designated-tasks-done\" },\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n            ]\r\n        case \"/designated-tasks-done\":\r\n            return [\r\n                { textLink: \"Выполненые задачи другими\", href: \"/designated-tasks-done\" },\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n            ]\r\n        case \"/search\":\r\n            return [\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n        default:\r\n            return [\r\n                { textLink: \"Мои задачи\", href: \"/\" },\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n    }\r\n}\r\n/**\r\n * Получаем текст для поиска из параметра q\r\n * @param location\r\n * @returns {string}\r\n */\r\nexport const getTextInSearchParams = (location) => {\r\n    const { search } = location;\r\n    const searchParams = new URLSearchParams(search);\r\n    const searchTextEncode = searchParams.get(\"q\") || '';\r\n    return decodeURIComponent(searchTextEncode);\r\n}\r\n/**\r\n * Проверяет залогинился ли пользователь\r\n * @returns { Boolean }\r\n */\r\nexport const checkLoggedUser = () => (getCookie(\"userInfo\") && getCookie(\"PHPSESSID\"));\r\n","import { changeStatusTask } from \"../helpers/helpers\";\r\n\r\nconst reducerTask = (state = null, action ) => {\r\n    switch (action.type) {\r\n        case 'FETCH_TASK':\r\n            return action.payload;\r\n        case 'EXECUTE_TASK':\r\n            return changeStatusTask(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerTask;\r\n","const reducerUsers = (state = [], action ) => {\r\n    switch (action.type) {\r\n        case 'GET_ALL_USERS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerUsers;\r\n","const reducerTasks = (state = [], action ) => {\r\n    switch (action.type) {\r\n        case 'GET_TASKS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerTasks;\r\n","import { combineReducers } from 'redux';\r\nimport user from \"./user\";\r\nimport task from \"./task\";\r\nimport users from \"./users\";\r\nimport tasks from \"./tasks\";\r\n\r\n\r\n\r\nexport default combineReducers({\r\n    user,\r\n    task,\r\n    users,\r\n    tasks\r\n})\r\n","import React from \"react\";\r\n\r\nexport default function Container(props) {\r\n    return (\r\n        <div className=\"container\">{props.children}</div>\r\n    )\r\n}","import React from \"react\";\r\nimport Container from \"../container/container\";\r\nimport './footer.scss'\r\n\r\nexport default function Footer() {\r\n    return (<footer className=\"footer\">\r\n        <Container>\r\n            <p>Разработка Дмитриев Максим. &copy; 2019 г.</p>\r\n        </Container>\r\n    </footer>);\r\n}\r\n","export const getUserInfo = (payload) => ({ type: 'GET_USER_INFO', payload });\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass SearchByTasks extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            textSearch: props.textSearch || '',\r\n            valid: false\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this._handleChangeTextSearch = this._handleChangeTextSearch.bind(this);\r\n        this._handleSubmitFormSearch = this._handleSubmitFormSearch.bind(this);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form \r\n                onSubmit={this._handleSubmitFormSearch}\r\n                className=\"form form_search\" method=\"get\">\r\n                <h3 className=\"form__title visually-hidden\">Поиск по задачам.</h3>\r\n                <div className=\"form__row form__row_search\">\r\n                    <input className=\"form__input form__input_search\" type=\"search\" name=\"search-field\" placeholder=\"Поиск по задачам\"\r\n                        value={this.state.textSearch}\r\n                        onChange={this._handleChangeTextSearch}\r\n                    />\r\n                    <button \r\n                        disabled={!this.state.valid}\r\n                        className=\"form__button submit\" \r\n                        type=\"submit\">Найти</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _handleChangeTextSearch(evt) {\r\n        const value = evt.target.value;\r\n        this.setState({\r\n            textSearch: value,\r\n            valid: Boolean(value.trim())\r\n        })\r\n    }\r\n\r\n    _handleSubmitFormSearch(evt) {\r\n        evt.preventDefault();\r\n        this.props.history.push(`/search?q=${encodeURIComponent(this.state.textSearch.trim())}`)\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchByTasks);\r\n","/**\r\n * Получение моих задач\r\n */\r\nexport const fetchRequest = async (\r\n  link,\r\n  params = {\r\n    method: 'GET',\r\n    cache: 'no-store'\r\n  }\r\n  ) => {\r\n\r\n  const response = await fetch(`/ajax/${link}`, params);\r\n\r\n  return await response.json();\r\n};\r\n/**\r\n * Получение моих задач\r\n */\r\nexport const getMyTasks = () => fetchRequest('get-my-tasks.php?my-tasks=ajax');\r\n/**\r\n * Получение моих выполненых задач\r\n */\r\nexport const getMyTasksDone = () => fetchRequest('get-my-tasks-done.php?my-tasks-done=ajax');\r\n/**\r\n * Получение задач поставленных мною\r\n */\r\nexport const getDesignatedTasks = () => fetchRequest('get-designated-tasks.php?get-designated-task=ajax');\r\n/**\r\n * Выполненные задачи другими\r\n */\r\nexport const getDesignatedTasksDone = () => fetchRequest('get-designated-tasks-done.php?get-designated-task-done=ajax');\r\n/**\r\n * Получение всех ользователей\r\n */\r\nexport const getAllUsers = () => fetchRequest('get-all-users.php?all-users=ajax');\r\n/**\r\n * Выполнение задачи\r\n */\r\nexport const executeTask = (idTask) => fetchRequest(`execute-task.php?execute-task=ajax&action=execute&id=${idTask}`);\r\n/**\r\n * Добавление заддачи\r\n * @param {Object} formData \r\n */\r\nexport const addTask = (formData) => fetchRequest(\r\n  `add-task.php`,\r\n  {\r\n    method: 'POST',\r\n    body: formData\r\n  }\r\n  );\r\n/**\r\n * Регистрация пользователя на сайте.\r\n * @param {Object} formData\r\n */\r\nexport const signUpUser = (formData) => fetchRequest(\r\n  `signup.php`,\r\n  {\r\n    method: 'POST',\r\n    body: formData\r\n  }\r\n  );\r\n/**\r\n * Авторизация пользователя на сайте.\r\n * @param {Object} formData\r\n */\r\nexport const signInUser = (formData) => fetchRequest(\r\n  `signin.php`,\r\n  {\r\n    method: 'POST',\r\n    body: formData\r\n  }\r\n  );\r\n/**\r\n * Выход с сайта.\r\n */\r\nexport const logOut = () => fetchRequest(`logout.php?logout=ajax&action=exit`);\r\n/**\r\n * Поиск задачи\r\n * @param {String} text \r\n */\r\nexport const getResultSearchText = (text) => fetchRequest(`get-result-search.php?search-field=${text}`);\r\n/**\r\n * Получение задаччи по её ID\r\n * @param {Number} idTask \r\n */\r\nexport const getTask = (idTask) => fetchRequest(`get-task.php?task=ajax&id=${idTask}`);","import toastr from 'toastr';\r\n\r\ntoastr.options = {\r\n    closeButton: false,\r\n    debug: false,\r\n    newestOnTop: false,\r\n    progressBar: true,\r\n    positionClass: `toast-top-center`,\r\n    onclick: null,\r\n    showDuration: `300`,\r\n    hideDuration: `1000`,\r\n    extendedTimeOut: `1000`,\r\n    showEasing: `swing`,\r\n    hideEasing: `linear`,\r\n    showMethod: `fadeIn`,\r\n    hideMethod: `fadeOut`\r\n};\r\n/**\r\n * Сообщение для пользователя\r\n * @param {String} type (`info`, `success`, `warning`, `error`)\r\n * @param {String} message `text`\r\n * @param {String} title `text`\r\n * @param {Number} time\r\n */\r\nconst showMessage = (type, message, title = ``, options = { time: 5000, preventDuplicates: false }) => {\r\n    toastr.options.timeOut = options.time;\r\n    toastr.options.preventDuplicates = options.preventDuplicates;\r\n    if (title) {\r\n        toastr[type](message, title)\r\n    } else {\r\n        toastr[type](message)\r\n    }\r\n};\r\n/**\r\n * Типы сообщений для функции showMessage\r\n */\r\nconst TypeMessage = {\r\n    INFO: `info`,\r\n    SUCCESS: `success`,\r\n    WARNING: `warning`,\r\n    ERROR: `error`\r\n};\r\n\r\nexport { showMessage, TypeMessage }\r\n","import flatpickr from 'flatpickr';\r\nimport { Russian } from 'flatpickr/dist/l10n/ru';\r\n\r\nconst CONFIG_FLATPICKR = {\r\n  locale: Russian,\r\n  defaultDate: `today`,\r\n  mode: `range`,\r\n  dateFormat: `d.m.Y`,\r\n  minDate: `today`,\r\n  weekNumbers: true,\r\n  wrap: true\r\n};\r\nlet fp;\r\n\r\n/**\r\n * Иницилизация flatpickr\r\n * @param elem\r\n */\r\nexport const initFlatpickr = (elem) => {\r\n  fp = flatpickr(elem, CONFIG_FLATPICKR);\r\n  fp.setDate(+new Date(), true, CONFIG_FLATPICKR.dateFormat);\r\n};\r\n/**\r\n * Размонтирование flatpickr\r\n */\r\nexport const destroyFlatpickr = () => {\r\n  fp.destroy();\r\n}\r\n/**\r\n * Очишает данные в flatpickr и устанавливает текушую дату\r\n */\r\nexport const clearDataFlatpickr = () => {\r\n  fp.clear();\r\n  fp.setDate(+new Date(), true, CONFIG_FLATPICKR.dateFormat);\r\n};\r\n","import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport '@ckeditor/ckeditor5-build-classic/build/translations/ru';\r\n// import { showMessage, TypeMessage } from './show-user-message';\r\n\r\nconst CONFIG = {\r\n  removePlugins: ['ImageUpload'],\r\n  toolbar: ['Heading', 'bold', 'italic', '|', 'Link', 'bulletedList', 'numberedList', 'blockQuote', 'MediaEmbed', 'Undo', 'Redo'],\r\n  language: 'ru',\r\n  mediaEmbed: {\r\n    previewsInData: true\r\n  }\r\n};\r\nlet editor;\r\n/**\r\n * Инициализация ckeditor5\r\n * @param elem\r\n * @param fn - функция получения данных из редактора.\r\n */\r\nexport const initEditor = (elem, fn) => {\r\n  // const MAX_CHARACTERS = 1000 || TEXTAREA.maxLength;\r\n\r\n  ClassicEditor.create(elem, CONFIG)\r\n    .then(newEditor => {\r\n      editor = newEditor;\r\n    editor.model.document.on('change:data', () => {\r\n        const data = editor.getData();\r\n        fn(data);\r\n    });\r\n      // return true\r\n    })\r\n    .catch(error => {\r\n      console.error(error);\r\n    });\r\n\r\n};\r\n/**\r\n * Размонтирование Редактора\r\n */\r\nexport const destroyEditor = () => {\r\n  editor.destroy()\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n}\r\n/**\r\n * Очишает введеные данные в ckeditor5\r\n */\r\nexport const clearDataEditor = () => {\r\n  editor.setData('')\r\n};\r\n","import React from \"react\";\r\nimport \"./user-menu.scss\"\r\nimport PropTypes from \"prop-types\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport {deleteCookie, getActiveMenuLinks } from \"../../helpers/helpers\";\r\nimport {logOut} from \"../../data/data\";\r\nimport {showMessage, TypeMessage} from \"../../plugins/show-message\";\r\nimport { connect} from \"react-redux\";\r\n\r\nconst UserMenu = ({ user, url, history}) => {\r\n    const handleClickExit = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        const isQuestion = window.confirm(`Вы действительно хотите выйти?`);\r\n        if (isQuestion) {\r\n            logOut()\r\n                .then(response => {\r\n                    showMessage(response.msgsType, '', response.textMsgs);\r\n                    if (response.msgsType === 'success') {\r\n                        deleteCookie('PHPSESSID');\r\n                        deleteCookie('userInfo');\r\n                        history.push('/sing-in');\r\n                    }\r\n                    return true;\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    showMessage(TypeMessage.ERROR, e, );\r\n                });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <nav className=\"user-menu\">\r\n            <span className=\"user-menu__user-name\">{`${user.surname} ${user.name} ${user.patronymic}`}</span>\r\n            {\r\n                getActiveMenuLinks(url).map((item, index) => {\r\n                    return (\r\n                        <Link\r\n                            className=\"user-menu__link link\"\r\n                            key={item.href + index}\r\n                            to={item.href}\r\n                            >{item.textLink}</Link>\r\n                    )\r\n                })\r\n            }\r\n            <Link\r\n                className=\"user-menu__link link\"\r\n                to=\"/add-task\"\r\n                >Поставить задачу</Link>\r\n            <a\r\n                className=\"user-menu__link user-menu__logout link\"\r\n                onClick={handleClickExit}\r\n                href=\"/log-out\">Выйти</a>\r\n        </nav>\r\n    )\r\n};\r\n\r\nUserMenu.propTypes = {\r\n    url: PropTypes.string.isRequired,\r\n    user: PropTypes.shape({\r\n        surname: PropTypes.string,\r\n        name: PropTypes.string,\r\n        patronymic: PropTypes.string\r\n    }).isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({ user: state.user })\r\n\r\nexport default withRouter(\r\n    connect(mapStateToProps)(UserMenu)\r\n)\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./task.scss\";\r\nimport {hasDateExpired} from \"../../helpers/helpers\";\r\nimport dompurify from 'dompurify';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst sanitizer = dompurify.sanitize;\r\n\r\nconst renderDesc = (isShow, stringAndTags) => {\r\n    return isShow ? sanitizer(stringAndTags) : \"\";\r\n}\r\n\r\nconst getTaskContent = (props) => {\r\n    const {\r\n        isShowDesc,\r\n        isMore,\r\n        task,\r\n        userId\r\n    } = props;\r\n    const {\r\n        task_date_end,\r\n        task_title,\r\n        task_desc,\r\n        task_date_start,\r\n        task_status,\r\n        task_date_no_limit,\r\n        task_id,\r\n        author_name,\r\n        author_surname,\r\n        author_patronymic,\r\n        executor_id,\r\n        executor_name,\r\n        executor_patronymic,\r\n        executor_surname\r\n    } = task;\r\n    \r\n    return (\r\n        <React.Fragment>\r\n            <h3 className=\"task__title\">{task_title}</h3>\r\n            <div \r\n                className=\"task__desc\"\r\n                dangerouslySetInnerHTML={{ __html: renderDesc(isShowDesc, task_desc) }}\r\n                >\r\n            </div>\r\n            <footer className=\"task__footer\">\r\n                <div className=\"task__date-start\">Начало задачи: {task_date_start}\r\n                </div>\r\n                <div className=\"task__date-end\">Закончить задачу до: {Number(task_date_no_limit) === 1 ? 'без даты окончания' : task_date_end}\r\n                </div>\r\n                <div className=\"task__status\">Статус: {Number(task_status) ? 'Выполнено.': 'В работе.'}\r\n                </div>\r\n                <div className=\"task__execute\">\r\n                    {\r\n                        !Number(task_status) && (userId === Number(executor_id))\r\n                            ? <button\r\n                                data-id-task={task_id}\r\n                                data-title={task_title}\r\n                                onClick={props.handleClickExecuteTask}\r\n                            >Выполнить задачу</button>\r\n                            : \"\"\r\n                    }\r\n                </div>\r\n                <div className=\"task__author\">Назначил: {author_surname} {author_name} {author_patronymic}\r\n                </div>\r\n                <div className=\"task__executor\">Испонитель: {executor_surname} {executor_name} {executor_patronymic}\r\n                </div>\r\n            </footer>\r\n            {\r\n                isMore ?\r\n                    <Link\r\n                        to={location => ({ ...location, pathname: `/task/${task_id}` })}\r\n                        className=\"link\"\r\n                        >Подробнее</Link>\r\n                    : ''\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport const Task = (props) => {\r\n    const {\r\n        isShowDesc,\r\n        isTasks,\r\n        task\r\n    } = props;\r\n    const {\r\n        task_date_end,\r\n        task_date_no_limit\r\n    } = task;\r\n\r\n    if (isTasks) {\r\n            return (\r\n                getTaskContent(props)\r\n            )\r\n        }\r\n\r\n    const classTaskExpired = hasDateExpired(task_date_end) && Number(task_date_no_limit) === 0 ? `task_expired` : ``;\r\n\r\n    return (\r\n        <section className={`task ${classTaskExpired} ${isShowDesc ? `task_single` : ''}`}>\r\n            {getTaskContent(props)}\r\n        </section>\r\n    )\r\n}\r\n\r\nTask.propTypes = {\r\n    isShowDesc: PropTypes.bool.isRequired,\r\n    isMore: PropTypes.bool.isRequired,\r\n    task: PropTypes.shape({\r\n        task_date_end: PropTypes.string.isRequired,\r\n        task_title: PropTypes.string.isRequired,\r\n        task_date_start: PropTypes.string.isRequired,\r\n        task_status: PropTypes.string.isRequired,\r\n        author_name: PropTypes.string.isRequired,\r\n        executor_name: PropTypes.string.isRequired,\r\n        task_id: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    handleClickMore: PropTypes.func\r\n};\r\n\r\nexport default Task\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Task from \"../task/task\";\r\nimport { hasDateExpired } from \"../../helpers/helpers\";\r\nimport \"./tasks.scss\";\r\n\r\nconst option = {\r\n    isMore: true,\r\n    isShowDesc: false,\r\n    isTasks: true\r\n};\r\n\r\nexport const Tasks = (props) => {\r\n    const {\r\n        title,\r\n        tasks,\r\n        userId\r\n        } = props;\r\n\r\n    return (\r\n        <section className=\"tasks\">\r\n            <h2 className=\"tasks__title\">{title}</h2>\r\n            {\r\n                tasks.length ?\r\n                    <ul className=\"tasks__lists\">\r\n                        {\r\n                            tasks.map((task)=> {\r\n                                const classTaskItem = option.isTasks ? 'task' : '';\r\n                                const classTaskExpired = hasDateExpired(task.task_date_end) && Number(task.task_date_no_limit) === 0 ? `task_expired` : ``;\r\n\r\n                                return (\r\n                                    <li\r\n                                        className={`tasks__item ${classTaskItem} ${classTaskExpired}`}\r\n                                        key={task.task_id}>\r\n                                        <Task\r\n                                            isMore={option.isMore}\r\n                                            isShowDesc={option.isShowDesc}\r\n                                            isTasks={option.isTasks}\r\n                                            task={task}\r\n                                            userId={userId}\r\n                                            handleClickMore={props.handleClickMore}\r\n                                            handleClickExecuteTask={props.handleClickExecuteTask}\r\n                                        />\r\n                                    </li>\r\n                                )\r\n                            })\r\n                        }\r\n                    </ul> :\r\n                    <div>Нет никаких задач</div>\r\n            }\r\n        </section>\r\n    )\r\n};\r\n\r\nTasks.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    tasks: PropTypes.array.isRequired,\r\n    handleClickMore: PropTypes.func\r\n};\r\nexport default Tasks","import React from \"react\";\r\nimport \"./pagination.scss\"\r\n\r\nconst Pagination = (props) => {\r\n    const {pagesCount, pageCurrentPagination} = props;\r\n    const arr = new Array(pagesCount).fill(pagesCount);\r\n    const lastPage = arr.length;\r\n    const pagePrev = (pageCurrentPagination - 1) === 0 ? 1 : (pageCurrentPagination - 1);\r\n    const pageNext = (pageCurrentPagination + 1) > lastPage ? lastPage : (pageCurrentPagination + 1);\r\n\r\n    return (\r\n        <ul className=\"pagination-list\">\r\n            <li className=\"pagination-list__item pagination-list__item_prev\">\r\n                {\r\n                    pagePrev ===  pageCurrentPagination?\r\n                        <a className=\"pagination-list__link\"\r\n                           onClick={(evt) => evt.preventDefault()}\r\n                           href=\"#prev\">&lt;</a>\r\n                        : <a className=\"pagination-list__link\"\r\n                             onClick={props.handleClickChangePagePagination}\r\n                             data-page-id-pag={pagePrev} href={\"page-\" + pagePrev}>&lt;</a>\r\n                }\r\n            </li>\r\n            {\r\n                arr.map((it, index) => (\r\n                    <li className={`pagination-list__item${pageCurrentPagination === (index + 1) ?\r\n                        \" pagination-list__item_active\" \r\n                        : \"\"}`}\r\n                        key={\"page-\" + index}>\r\n                        <a className=\"pagination-list__link\"\r\n                           onClick={props.handleClickChangePagePagination}\r\n                           data-page-id-pag={index + 1} href={\"page-\" + (index + 1)}>{index + 1}</a>\r\n                    </li>)\r\n                )\r\n            }\r\n            <li className=\"pagination-list__item pagination-list__item_next\">\r\n                {\r\n                    pageNext ===  pageCurrentPagination ?\r\n                        <a className=\"pagination-list__link\"\r\n                           onClick={(evt) => evt.preventDefault()}\r\n                           href=\"#next\">&gt;</a>\r\n                        : <a className=\"pagination-list__link\"\r\n                             onClick={props.handleClickChangePagePagination}\r\n                             data-page-id-pag={pageNext} href={\"page-\" + pageNext}>&gt;</a>\r\n                }\r\n            </li>\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport \"./loading-data.scss\";\r\n\r\nconst LoadingData = () => {\r\n  return (\r\n    <div className=\"loader-container\">\r\n      <div className=\"loader\">\r\n        <div className=\"text\">Загрузка данных</div>\r\n        <div className=\"dots\">\r\n          <div className=\"dot\"></div>\r\n          <div className=\"dot\"></div>\r\n          <div className=\"dot\"></div>\r\n          <div className=\"dot\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default LoadingData","import React, { Component } from \"react\";\r\nimport SearchByTasks from \"../components/search-by-tasks/search-by-tasks\";\r\nimport UserMenu from \"../components/user-menu/user-menu\";\r\nimport Tasks from \"../components/tasks/tasks\";\r\nimport Pagination from \"../components/pagination/pagination\";\r\nimport {\r\n    getActiveTitleTasks,\r\n    deleteTaskFromArrTasks,\r\n    getTextInSearchParams\r\n} from \"../helpers/helpers\";\r\nimport {\r\n    getMyTasks,\r\n    getMyTasksDone,\r\n    getDesignatedTasks,\r\n    getDesignatedTasksDone,\r\n    executeTask,\r\n    getResultSearchText\r\n} from \"../data/data\";\r\nimport { TypeMessage, showMessage } from '../plugins/show-message';\r\nimport LoadingData from '../components/loading-data/loading-data';\r\nimport { connect } from \"react-redux\";\r\nimport { allTasks } from \"../actions\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass PageTasks extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.initialState = {\r\n            itemsTasks: 9,\r\n            pagesCount: 0,\r\n            pageCurrentPagination: 1,\r\n            loading: true,\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this._handleClickExecuteTask = this._handleClickExecuteTask.bind(this);\r\n        this._handleClickChangePagePagination = this._handleClickChangePagePagination.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { url } = this.props.match;\r\n\r\n        if (url === '/search') {\r\n            const textSearch =  getTextInSearchParams(this.props.location);\r\n            this._getSearchData(textSearch);\r\n        } else {\r\n            const dataFunc = this._getFuncData(url);\r\n            this._getData(dataFunc);\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        const { url: currUrl } = this.props.match;\r\n        const { url: nextUrl } = nextProps.match;\r\n\r\n        const isUpdate = (currUrl !== nextUrl) && (nextUrl !== '/search');\r\n\r\n        if (isUpdate) {\r\n            const dataFunc = this._getFuncData(nextUrl);\r\n            this._getData(dataFunc);\r\n            return true;\r\n        }\r\n\r\n        const textSearchCurr =  getTextInSearchParams(this.props.location);\r\n        const textSearchNext =  getTextInSearchParams(nextProps.location);\r\n        const isPageSearch = (currUrl === '/search') || (nextUrl === '/search');\r\n\r\n        if (isPageSearch && (textSearchCurr !== textSearchNext)) {\r\n            this._getSearchData(textSearchNext);\r\n            return true;\r\n        }\r\n\r\n        return (nextState.loading !== this.state.loading) ||\r\n            (nextState.pageCurrentPagination !== this.state.pageCurrentPagination);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            tasks,\r\n            user,\r\n            match,\r\n            location\r\n        } = this.props;\r\n\r\n        const { url } = match;\r\n        const { userId } = user;\r\n        const textSearch = getTextInSearchParams(location);\r\n\r\n        const {\r\n            pageCurrentPagination,\r\n            itemsTasks,\r\n            pagesCount\r\n         } = this.state;\r\n\r\n        const visibleTasks = tasks.length ?\r\n            tasks.slice((pageCurrentPagination - 1) * itemsTasks, pageCurrentPagination * itemsTasks) :\r\n            tasks;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <UserMenu\r\n                    url={url}\r\n                />\r\n                {\r\n                    this.state.loading ?\r\n                        <LoadingData /> :\r\n                        <React.Fragment>\r\n                            <SearchByTasks\r\n                                textSearch={textSearch}\r\n                            />\r\n                            <Tasks\r\n                                tasks={visibleTasks}\r\n                                title={getActiveTitleTasks(url, textSearch)}\r\n                                userId={userId}\r\n                                handleClickExecuteTask={this._handleClickExecuteTask}\r\n                            />\r\n                            {\r\n                                tasks.length > itemsTasks ?\r\n                                    <Pagination\r\n                                        pagesCount={pagesCount}\r\n                                        pageCurrentPagination={pageCurrentPagination}\r\n                                        handleClickChangePagePagination={this._handleClickChangePagePagination}\r\n                                    />\r\n                                    :\r\n                                    null\r\n                            }\r\n                        </React.Fragment>\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    _getData(fn) {\r\n        this.setState({\r\n            loading: true,\r\n            pageCurrentPagination: this.initialState.pageCurrentPagination\r\n        });\r\n\r\n        fn()\r\n            .then(tasks => {\r\n                if (tasks.msgsType === 'error') {\r\n                    this.props.getTasksDispatch([])\r\n                    return true\r\n                }\r\n\r\n                this.props.getTasksDispatch(tasks);\r\n\r\n                const lengthTasks = tasks.length;\r\n\r\n                this.setState((state) => {\r\n                    const { itemsTasks } = state;\r\n\r\n                    return {\r\n                        pagesCount: Math.ceil((lengthTasks / itemsTasks))\r\n                    }\r\n                });\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    _getFuncData(url) {\r\n        switch (url) {\r\n            case \"/my-tasks-done\":\r\n                return getMyTasksDone\r\n            case \"/designated-tasks\":\r\n                return getDesignatedTasks\r\n            case \"/designated-tasks-done\":\r\n                return getDesignatedTasksDone\r\n            default:\r\n                return getMyTasks\r\n        }\r\n    }\r\n\r\n    _handleClickExecuteTask(evt) {\r\n        const idTask = evt.target.dataset.idTask;\r\n        const title = evt.target.dataset.title;\r\n\r\n        const isQuestion = window.confirm(`Вы хотите выполнить задачу - ${title}?`)\r\n\r\n        if (isQuestion) {\r\n            executeTask(idTask)\r\n                .then(result => {\r\n                    showMessage(result.msgsType, '', result.textMsgs);\r\n                    if (result.msgsType === 'success') {\r\n                        const newTasks = deleteTaskFromArrTasks(this.props.tasks, idTask);\r\n\r\n                        this.props.getTasksDispatch(newTasks);\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n                });\r\n        }\r\n    }\r\n\r\n    _handleClickChangePagePagination(evt) {\r\n        evt.preventDefault();\r\n        this.setState({\r\n            pageCurrentPagination: +evt.target.dataset.pageIdPag\r\n        });\r\n    }\r\n\r\n    _getSearchData(textSearch) {\r\n        getResultSearchText(textSearch)\r\n            .then(tasks => {\r\n                if (tasks.msgsType === 'warning') {\r\n                    this.props.getTasksDispatch([]);\r\n                    this.setState({\r\n                        pageCurrentPagination: this.initialState.pageCurrentPagination\r\n                    })\r\n                    return true\r\n                }\r\n\r\n                this.props.getTasksDispatch(tasks);\r\n\r\n                const lengthTasks = tasks.length;\r\n\r\n                this.setState((state) => {\r\n                    const { itemsTasks } = state;\r\n\r\n                    return {\r\n                        pagesCount: Math.ceil((lengthTasks / itemsTasks))\r\n                    }\r\n                })\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    tasks: state.tasks\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getTasksDispatch: (tasks) => {\r\n            dispatch(allTasks(tasks));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PageTasks));\r\n","export const allTasks = (payload) => ({ type: 'GET_TASKS', payload });\r\n","export const ConfMinAndMax = Object.freeze({\r\n        MIN_LENGTH_LOGIN: 2,\r\n        MAX_LENGTH_LOGIN: 20,\r\n        MIN_LENGTH_PASSWORD: 6,\r\n        MAX_LENGTH_PASSWORD: 20,\r\n        MIN_LENGTH_TEXT: 2,\r\n        MAX_LENGTH_TEXT: 20\r\n    });\r\nexport const ConfMinAndMaxAddTask = Object.freeze({\r\n        MIN_LENGTH_TEXT: 2,\r\n        MAX_LENGTH_TEXT_TITLE: 255,\r\n        MAX_LENGTH_TEXT_DESK: 255,\r\n    });\r\nexport const ConfTimes = Object.freeze({\r\n        REDIRECTION_SIGN_IN_TIME: 3000,\r\n        REDIRECTION_TASKS_TIME: 3000,\r\n    });\r\n","import React, { Component } from \"react\";\r\nimport \"./forms.scss\";\r\nimport {checkLengthMinMaxStr, getCookie} from \"../../helpers/helpers\";\r\nimport { ConfMinAndMax } from \"../../vars/vars\";\r\nimport { checkLoggedUser } from \"../../helpers/helpers\";\r\nimport { signInUser } from \"../../data/data\";\r\nimport { TypeMessage, showMessage } from '../../plugins/show-message';\r\n\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect} from \"react-redux\";\r\nimport { getUserInfo } from \"../../actions\";\r\n\r\n\r\nclass FormSingIn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            login: \"\",\r\n            password: \"\",\r\n            validForm: false\r\n        };\r\n        this.state = this.initialState;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form\r\n                onSubmit={this._handleSubmitForm}\r\n                className=\"form form_center form_auth\"\r\n                method=\"post\">\r\n                <h3 className=\"form__title\">Авторизация</h3>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"login\">Ваш логин:</label>\r\n                    <input\r\n                        value={this.state.login}\r\n                        onChange={this._handleLoginChange}\r\n                        className=\"form__input input\"\r\n                        id=\"login\" type=\"text\" name=\"login\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_LOGIN}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_LOGIN}\r\n                        required=\"required\"/>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"password\">Пароль:</label>\r\n                    <input\r\n                        value={this.state.password}\r\n                        onChange={this._handlePasswordChange}\r\n                        className=\"form__input input\"\r\n                        id=\"password\" type=\"password\" name=\"password\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_PASSWORD}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_PASSWORD}\r\n                        required=\"required\"/>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <button\r\n                        className=\"form__button submit\"\r\n                        disabled={!this.state.validForm}\r\n                        type=\"submit\">Войти</button>\r\n                </div>\r\n                <div className=\"form__row form__row_text-center\">\r\n                    <Link\r\n                        to=\"/sing-up\"\r\n                        className=\"form__link-signup link\"\r\n                        >Зарегистрироваться</Link>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _validateForm = (state) => {\r\n        const {login, password} = state;\r\n        const isValidLogin = checkLengthMinMaxStr(login, ConfMinAndMax.MIN_LENGTH_LOGIN, ConfMinAndMax.MAX_LENGTH_LOGIN);\r\n        const isValidPassword = checkLengthMinMaxStr(password, ConfMinAndMax.MIN_LENGTH_PASSWORD, ConfMinAndMax.MAX_LENGTH_PASSWORD);\r\n\r\n        return isValidLogin && isValidPassword;\r\n    };\r\n\r\n    _handleLoginChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            login: value,\r\n            validForm: this._validateForm(Object.assign({}, state, {login: value}))\r\n        }));\r\n    };\r\n\r\n    _handlePasswordChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            password: value,\r\n            validForm: this._validateForm(Object.assign({}, state, {password: value}))\r\n        }));\r\n    };\r\n\r\n    _handleSubmitForm = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        let formData = new FormData(evt.target);\r\n        formData.append('signin', 'ajax');\r\n\r\n        signInUser(formData)\r\n            .then(result => {\r\n                showMessage(result.msgsType, '', result.textMsgs);\r\n                if (result.msgsType === 'success') {\r\n                    this.setState(this.initialState);\r\n\r\n                    if (checkLoggedUser()) {\r\n                        const userInfo = getCookie(\"userInfo\").split(\";\");\r\n                        const user = getUserInfo({\r\n                            name: userInfo[0],\r\n                            surname: userInfo[1],\r\n                            patronymic: userInfo[2],\r\n                            userId: Number(userInfo[3])\r\n                        });\r\n\r\n                        this.props.getUserInfoToProps(user);\r\n                        this.props.history.push('/');\r\n                    }\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n            });\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getUserInfoToProps: (user) => (dispatch(user))\r\n    }\r\n}\r\n\r\nexport default withRouter(\r\n    connect(null, mapDispatchToProps)(FormSingIn)\r\n)\r\n","import React from \"react\";\r\nimport FormSingIn from \"../components/forms/form-sing-in\";\r\n\r\nconst PageSingIn = () => (<FormSingIn />);\r\nexport default PageSingIn\r\n","import React, { Component } from \"react\";\r\nimport \"./forms.scss\"\r\nimport { checkLengthMinMaxStr } from \"../../helpers/helpers\";\r\nimport { ConfMinAndMax } from \"../../vars/vars\";\r\nimport { showMessage, TypeMessage } from \"../../plugins/show-message\";\r\nimport { signUpUser } from \"../../data/data\";\r\n\r\nimport { Link} from \"react-router-dom\";\r\n\r\nclass FormSingUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            login: \"\",\r\n            password: \"\",\r\n            password2: \"\",\r\n            name: \"\",\r\n            surname: \"\",\r\n            patronymic: \"\",\r\n            validForm: false\r\n        };\r\n\r\n        this.state = this.initialState;\r\n    }\r\n\r\n    render() {        \r\n        return (\r\n            <form\r\n                onSubmit={this._handleSubmitForm}\r\n                className=\"form form_center form_reg\"\r\n                method=\"post\">\r\n                <h3 className=\"form__title\">Регистрация нового пользователя\r\n                </h3>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"login\">Ваш логин:</label>\r\n                    <input\r\n                        value={this.state.login}\r\n                        onChange={this._handleLoginChange}\r\n                        className=\"form__input input\"\r\n                        id=\"login\" type=\"text\" name=\"login\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_LOGIN}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_LOGIN}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"password\">Пароль:</label>\r\n                    <input\r\n                        value={this.state.password}\r\n                        onChange={this._handlePasswordChange}\r\n                        className=\"form__input input\"\r\n                        id=\"password\" type=\"password\" name=\"password\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_PASSWORD}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_PASSWORD}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"password2\">Повторите пароль:</label>\r\n                    <input\r\n                        value={this.state.password2}\r\n                        onChange={this._handlePassword2Change}\r\n                        onBlur={this._onBlurInput}\r\n                        className=\"form__input input\"\r\n                        id=\"password2\" type=\"password\" name=\"password2\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_PASSWORD}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_PASSWORD}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"name\">Имя:</label>\r\n                    <input\r\n                        value={this.state.name}\r\n                        onChange={this._handleNameChange}\r\n                        className=\"form__input input\"\r\n                        id=\"name\" type=\"text\" name=\"name\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_TEXT}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_TEXT}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"surname\">Фамилия:</label>\r\n                    <input\r\n                        value={this.state.surname}\r\n                        onChange={this._handleSurnameChange}\r\n                        className=\"form__input input\"\r\n                        id=\"surname\" type=\"text\" name=\"surname\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_TEXT}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_TEXT}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"patronymic\">Отчество:</label>\r\n                    <input\r\n                        value={this.state.patronymic}\r\n                        onChange={this.handlePatronymicChange}\r\n                        className=\"form__input input\"\r\n                        id=\"patronymic\" type=\"text\" name=\"patronymic\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_TEXT}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_TEXT}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <button\r\n                        disabled={!this.state.validForm}\r\n                        className=\"form__button submit\"\r\n                        type=\"submit\">Зарегистрироваться</button>\r\n                </div>\r\n                <div className=\"form__row form__row_text-center\">\r\n                    <Link\r\n                        to=\"/sing-in\"\r\n                        className=\"form__link-signup link\"\r\n                    >Авторизоваться</Link>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _validateForm = (state) => {\r\n        const { login, password, password2, name, surname, patronymic } = state;\r\n        const isValidLogin = checkLengthMinMaxStr(login, ConfMinAndMax.MIN_LENGTH_LOGIN, ConfMinAndMax.MAX_LENGTH_LOGIN);\r\n        const isValidPassword = checkLengthMinMaxStr(password, ConfMinAndMax.MIN_LENGTH_PASSWORD, ConfMinAndMax.MAX_LENGTH_PASSWORD);\r\n        const isValidPassword2 = checkLengthMinMaxStr(password2, ConfMinAndMax.MIN_LENGTH_PASSWORD, ConfMinAndMax.MAX_LENGTH_PASSWORD);\r\n        const isValidEquallyPassword = password === password2;\r\n        const isValidName = checkLengthMinMaxStr(name, ConfMinAndMax.MIN_LENGTH_TEXT, ConfMinAndMax.MAX_LENGTH_TEXT);\r\n        const isValidSurname = checkLengthMinMaxStr(surname, ConfMinAndMax.MIN_LENGTH_TEXT, ConfMinAndMax.MAX_LENGTH_TEXT);\r\n        const isValidPatronymic = checkLengthMinMaxStr(patronymic, ConfMinAndMax.MIN_LENGTH_TEXT, ConfMinAndMax.MAX_LENGTH_TEXT);\r\n\r\n        return isValidLogin && isValidPassword && isValidPassword2 && isValidEquallyPassword && isValidName && isValidSurname && isValidPatronymic;\r\n    };\r\n\r\n    _handleLoginChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            login: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { login: value }))\r\n        }));\r\n    };\r\n\r\n    _handlePasswordChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            password: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { password: value }))\r\n        }));\r\n    };\r\n\r\n    _handlePassword2Change = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            password2: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { password2: value }))\r\n        }));\r\n    };\r\n\r\n    _handleNameChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            name: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { name: value }))\r\n        }));\r\n    };\r\n\r\n    _handleSurnameChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            surname: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { surname: value }))\r\n        }));\r\n    };\r\n\r\n    handlePatronymicChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            patronymic: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { patronymic: value }))\r\n        }));\r\n    };\r\n\r\n    _handleSubmitForm = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        let formData = new FormData(evt.target);\r\n        formData.append('signup', 'ajax');\r\n\r\n        signUpUser(formData)\r\n            .then(result => {\r\n                showMessage(result.msgsType, '', result.textMsgs);\r\n                if (result.msgsType === 'success') {\r\n                    this.setState(this.initialState);\r\n\r\n                    return true\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n            });\r\n    };\r\n\r\n    _onBlurInput = () => {\r\n        const { password, password2 } = this.state;\r\n        if (password.length >= ConfMinAndMax.MIN_LENGTH_PASSWORD && password !== password2) {\r\n            showMessage(TypeMessage.WARNING, `В поле \"Повторите пароль\", пароль не совпадает с полем \"Пароль\"!`);\r\n        }\r\n    };\r\n}\r\nexport default FormSingUp","import React from \"react\";\r\nimport FormSingUp from \"../components/forms/form-sing-up\";\r\n\r\nconst PageSingUp = () => (<FormSingUp/>)\r\nexport default PageSingUp\r\n","import React, { Component } from \"react\";\r\nimport \"./forms.scss\";\r\n\r\nimport { initFlatpickr, destroyFlatpickr } from \"../../plugins/flatpickr\";\r\nimport { initEditor, destroyEditor } from \"../../plugins/editor\";\r\nimport { checkLengthMinMaxStr } from \"../../helpers/helpers\";\r\nimport { ConfMinAndMaxAddTask } from \"../../vars/vars\";\r\nimport { getAllUsers } from \"../../data/data\";\r\nimport { TypeMessage, showMessage } from '../../plugins/show-message';\r\nimport { addTask } from \"../../data/data\";\r\nimport { clearDataEditor } from \"../../plugins/editor\";\r\nimport { clearDataFlatpickr } from \"../../plugins/flatpickr\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { allUsers } from \"../../actions\";\r\n\r\n\r\nclass FormAddTask extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            selectedDates: \"\",\r\n            isCheckedDateNoLimit: false,\r\n            valueSelect: \"disabled\",\r\n            titleTask: \"\",\r\n            descTask: \"\",\r\n            validForm: false,\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this.inputDatesRef = React.createRef();\r\n        this.textareaRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        initFlatpickr(this.inputDatesRef.current);\r\n        initEditor(this.textareaRef.current, this._handleDescTaskChange);\r\n        getAllUsers()\r\n            .then(users => {\r\n                if (users.msgsType === 'error') {\r\n                    this.props.getAllUsersDispatch([]);\r\n                    return;\r\n                }\r\n\r\n                this.props.getAllUsersDispatch(users);\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        destroyEditor();\r\n        destroyFlatpickr();\r\n    }\r\n\r\n    render() {\r\n      const { userId: userIdCurrent } = this.props.user;\r\n\r\n        return (\r\n            <form\r\n                onSubmit={this.handleSubmitForm}\r\n                className=\"form form_task-add\"\r\n                action=\"\" method=\"post\">\r\n                <div className=\"form__row form__row_label-group-two\">\r\n                    <label htmlFor=\"date\">Дата начала и окончания задачи</label>\r\n                    <div\r\n                        ref={this.inputDatesRef}\r\n                        className=\"flatpickr\">\r\n                        <input\r\n                            className=\"form__date input\"\r\n                            onInput={this._handleDatesChange}\r\n                            id=\"date\" type=\"text\" name=\"date\"\r\n                            placeholder=\"выберите дату или даты\" data-input=\"data-input\" required=\"required\" />\r\n                        <button type=\"button\" title=\"Открыт/Закрыть календарь\" data-toggle=\"\">календарь</button>\r\n                        <button type=\"button\" title=\"Очистить календарь\" data-clear=\"\">очистить</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form__row\">\r\n                    <input\r\n                        className=\"form__checkbox\"\r\n                        onChange={this._handleDateNoLimitChange}\r\n                        checked={this.state.isCheckedDateNoLimit}\r\n                        type=\"checkbox\" name=\"date-no-limit\" id=\"date-no-limit\" />\r\n                    <label htmlFor=\"date-no-limit\">Без даты окончания (дата окончания выбранная выше, будет игнорирована)</label>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <span>Выберите исполнителя</span>\r\n                    <select\r\n                        value={this.state.valueSelect}\r\n                        onChange={this._handleSelectChange}\r\n                        className=\"form__select\" name=\"executor\" required=\"required\">\r\n                        <option value=\"disabled\" disabled=\"disabled\">Не выбрано</option>\r\n                        {\r\n                            this.props.users.map(user => (\r\n                                <option\r\n                                    value={user.user_id}\r\n                                    key={user.user_id}\r\n                                > { userIdCurrent === Number(user.user_id) ? \"Я\" : `${user.user_surname} ${user.user_name} ${user.user_patronymic}` } </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label>Загаловок задачи</label>\r\n                    <textarea\r\n                        value={this.state.titleTask}\r\n                        onChange={this._handleTitleTaskChange}\r\n                        className=\"form__title-add textarea\" name=\"title\" maxLength=\"255\" placeholder=\"сделать ...\" required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label>Дополнительная информация по задаче</label>\r\n                    <textarea\r\n                        className=\"textarea\"\r\n                        ref={this.textareaRef}\r\n                        value={this.state.descTask}\r\n                        onChange={this._handleDescTaskChange}\r\n                        id=\"textarea-text\" name=\"text\" maxLength=\"1000\" placeholder=\"Обьяснение задачи ...\" required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_text-center\">\r\n                    <button\r\n                        disabled={!this.state.validForm}\r\n                        className=\"form__submit submit\"\r\n                        type=\"submit\">Добавить задачу</button>\r\n                    <Link\r\n                        className=\"form__link link\"\r\n                        to=\"/\"\r\n                    >К списку моих задач</Link>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _validateForm = (state) => {\r\n        const { selectedDates, valueSelect, titleTask, descTask } = state;\r\n        const isValidValueSelect = valueSelect !== \"disabled\";\r\n        const isValidTitleTask = checkLengthMinMaxStr(titleTask, ConfMinAndMaxAddTask.MIN_LENGTH_TEXT, ConfMinAndMaxAddTask.MAX_LENGTH_TEXT_TITLE);\r\n        const isValidDescTask = checkLengthMinMaxStr(descTask, ConfMinAndMaxAddTask.MIN_LENGTH_TEXT, ConfMinAndMaxAddTask.MAX_LENGTH_TEXT_DESK);\r\n\r\n        return selectedDates && isValidValueSelect && isValidTitleTask && isValidDescTask;\r\n    };\r\n\r\n    _handleDatesChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            selectedDates: value,\r\n            validForm: this._validateForm(Object.assign(state, { selectedDates: value }))\r\n        }));\r\n    };\r\n\r\n    _handleDateNoLimitChange = () => {\r\n        this.setState((state) => ({\r\n            isCheckedDateNoLimit: !state.isCheckedDateNoLimit\r\n        }));\r\n    };\r\n\r\n    _handleTitleTaskChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            titleTask: value,\r\n            validForm: this._validateForm(Object.assign(state, { titleTask: value }))\r\n        }));\r\n    };\r\n\r\n    _handleDescTaskChange = (data) => {\r\n        this.setState((state) => ({\r\n            descTask: data,\r\n            validForm: this._validateForm(Object.assign(state, { descTask: data }))\r\n        }));\r\n    };\r\n\r\n    _handleSelectChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            valueSelect: value,\r\n            validForm: this._validateForm(Object.assign(state, { valueSelect: value }))\r\n        }));\r\n    };\r\n\r\n    handleSubmitForm = (evt) => {\r\n        evt.preventDefault();\r\n        let FORM_DATA = new FormData(evt.target);\r\n        FORM_DATA.append('add-task', 'ajax');\r\n\r\n        addTask(FORM_DATA)\r\n            .then(result => {\r\n                showMessage(result.msgsType, '', result.textMsgs);\r\n                if (result.msgsType === 'success') {\r\n                    this.setState({\r\n                        isCheckedDateNoLimit: false,\r\n                        valueSelect: \"disabled\",\r\n                        titleTask: \"\",\r\n                        validForm: false,\r\n                    })\r\n\r\n                    clearDataEditor();\r\n                    clearDataFlatpickr();\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n            });\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    users: state.users\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getAllUsersDispatch: (users) => {\r\n            dispatch(allUsers(users));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormAddTask);\r\n","export const allUsers = (payload) => ({ type: 'GET_ALL_USERS', payload });\r\n","import React from \"react\";\r\nimport FormAddTask from \"../components/forms/form-add-task\";\r\n\r\nconst PageAddTask = () => (<FormAddTask />)\r\nexport default PageAddTask\r\n","import React, { Component } from \"react\";\r\nimport Task from \"../components/task/task\"\r\nimport UserMenu from \"../components/user-menu/user-menu\";\r\nimport LoadingData from '../components/loading-data/loading-data';\r\nimport { getTask, executeTask } from \"../data/data\";\r\nimport { TypeMessage, showMessage } from '../plugins/show-message';\r\nimport { connect } from \"react-redux\";\r\nimport { fetchTask, toPerformTask } from \"../actions\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst option = {\r\n    isMore: false,\r\n    isShowDesc: true\r\n};\r\n\r\nclass PageTask extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.initialState = {\r\n            loading: true\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this._handleClickExecuteTask = this._handleClickExecuteTask.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const idTask = this.props.match.params.id;\r\n\r\n        getTask(idTask)\r\n            .then(task => {\r\n                if (task.msgsType === 'error') {\r\n                    this.props.fetchTaskDispatch(null);\r\n                }\r\n\r\n                this.props.fetchTaskDispatch(task);\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            user,\r\n            handleClickExit,\r\n            task\r\n        } = this.props;\r\n\r\n        const { userId } = user;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <UserMenu\r\n                    handleClickExit={handleClickExit}\r\n                    user={user}\r\n                    url={''}\r\n                />\r\n                {\r\n                    this.state.loading ?\r\n                        <LoadingData /> :\r\n                        task ?\r\n                            <Task\r\n                                isMore={option.isMore}\r\n                                isShowDesc={option.isShowDesc}\r\n                                task={task}\r\n                                userId={userId}\r\n                                handleClickExecuteTask={this._handleClickExecuteTask}\r\n                            /> :\r\n                            <p>Такая задача не существует!</p>\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    _handleClickExecuteTask(evt) {\r\n        const idTask = evt.target.dataset.idTask;\r\n        const title = evt.target.dataset.title;\r\n\r\n        const isQuestion = window.confirm(`Вы хотите выполнить задачу - ${title}?`)\r\n\r\n        if (isQuestion) {\r\n            executeTask(idTask)\r\n                .then(result => {\r\n                    showMessage(result.msgsType, '', result.textMsgs);\r\n                    if (result.msgsType === 'success') {\r\n                        this.props.executeTaskDispatch(this.props.task);\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user,\r\n        task: state.task\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchTaskDispatch: (task) => {\r\n            dispatch(fetchTask(task));\r\n        },\r\n        executeTaskDispatch: (task) => {\r\n            dispatch(toPerformTask(task));\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(PageTask)\r\n);\r\n","export const fetchTask = (payload) => ({type: 'FETCH_TASK', payload});\r\nexport const toPerformTask = (payload) => ({type: 'EXECUTE_TASK', payload});\r\n","import { Redirect, Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport { checkLoggedUser } from \"../helpers/helpers\";\r\n\r\nexport function PrivatePage({ children, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n                checkLoggedUser() ? (\r\n                    children\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/sing-in\",\r\n                            state: { from: location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport function ProtectPage({ children, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n                !checkLoggedUser() ? (\r\n                    children\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/\",\r\n                            state: { from: location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n","import React, { Component } from 'react';\nimport Container from \"./components/container/container\";\nimport Footer from './components/footer/footer';\nimport { getCookie,  checkLoggedUser } from  \"./helpers/helpers\";\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { connect} from \"react-redux\";\nimport { getUserInfo} from \"./actions\";\n\nimport PageTasks from './pages/page-tasks';\nimport PageSingIn from './pages/page-sign-in';\nimport PageSingUp from './pages/page-sign-up';\nimport PageAddTask from \"./pages/page-add-task\";\nimport PageTask from \"./pages/page-task\";\nimport { ProtectPage, PrivatePage} from \"./shields/shields\";\n\nimport 'normalize.css';\nimport './Common.scss';\n\nexport class App extends Component {\n    componentDidMount() {\n        if (checkLoggedUser()) {\n            const userInfo = getCookie(\"userInfo\").split(\";\");\n            const user = getUserInfo({\n                name: userInfo[0],\n                surname: userInfo[1],\n                patronymic: userInfo[2],\n                userId: Number(userInfo[3])\n            });\n\n            this.props.getUserInfoDispatch(user);\n        }\n    }\n\n    render() {\n        return (\n            <Router basename=\"/react/\" >\n                <main className={`bg main`}>\n                    <Container>\n                        <Switch>\n                            <PrivatePage path=\"/\" exact>\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/search\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/my-tasks-done\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/designated-tasks\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/designated-tasks-done\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <ProtectPage path=\"/sing-up\">\n                                <PageSingUp />\n                            </ProtectPage>\n                            <ProtectPage path=\"/sing-in\">\n                                <PageSingIn />\n                            </ProtectPage>\n                            <PrivatePage path=\"/add-task\">\n                                <PageAddTask />\n                            </PrivatePage>\n                            <PrivatePage path=\"/task/:id\">\n                                <PageTask/>\n                            </PrivatePage>\n                            <Route>\n                                <h1>Такой страницы нету!</h1>\n                            </Route>\n                        </Switch>\n                    </Container>\n                </main>\n                <Footer />\n            </Router>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    getUserInfoDispatch: (user) => {\n        dispatch(user);\n    }\n})\n\nexport default connect(null, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { applyMiddleware, createStore, compose } from 'redux'\nimport { Provider } from 'react-redux';\nimport thunkMiddleware from 'redux-thunk';\nimport rootReducer from './reducers';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst middlewareEnhancer = applyMiddleware(thunkMiddleware);\nconst composedEnhancers = compose(middlewareEnhancer);\nconst store = createStore(rootReducer, undefined, composedEnhancers);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.querySelector('.root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}