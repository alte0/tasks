{"version":3,"sources":["reducers/user.js","helpers/helpers.js","reducers/task.js","reducers/users.js","reducers/tasks.js","reducers/index.js","components/container/container.js","components/footer/footer.js","actions/user.js","components/search-by-tasks/search-by-tasks.js","api/api-fetch.js","plugins/show-message.js","plugins/flatpickr.js","plugins/editor.js","components/user-menu/user-menu.js","components/task/task.js","components/tasks/tasks.js","components/pagination/pagination.js","components/loading-data/loading-data.js","pages/page-tasks.js","actions/tasks.js","vars/vars.js","components/forms/form-sing-in.js","pages/page-sign-in.js","components/forms/form-sing-up.js","pages/page-sign-up.js","components/forms/form-add-task.js","actions/users.js","pages/page-add-task.js","pages/page-task.js","actions/task.js","shields/shields.js","App.js","serviceWorker.js","index.js"],"names":["initialState","name","surname","patronymic","userId","reducerUser","state","action","type","payload","checkLengthMinMaxStr","str","minLengthStr","maxLengthStr","length","hasDateExpired","dateTask","today","Date","getTime","reverseDate","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","deleteCookie","value","options","path","expires","toUTCString","updatedCookie","encodeURIComponent","optionKey","optionValue","setCookie","date","split","reverse","join","getActiveTitleTasks","url","textSearch","changeStatusTask","task","Object","assign","task_status","getTextInSearchParams","location","search","searchTextEncode","URLSearchParams","get","checkLoggedUser","reducerTask","reducerUsers","reducerTasks","combineReducers","user","users","tasks","Container","props","className","children","Footer","getUserInfo","SearchByTasks","valid","_handleChangeTextSearch","bind","_handleSubmitFormSearch","onSubmit","this","method","placeholder","onChange","disabled","evt","target","setState","Boolean","trim","preventDefault","history","push","Component","withRouter","apiFetch","_fetchRequest","link","a","params","cache","fetch","response","ok","json","alert","status","getMyTasks","getMyTasksDone","getDesignatedTasks","getDesignatedTasksDone","getAllUsers","executeTask","idTask","addTask","formData","body","signUpUser","signInUser","logOut","getResultSearchText","text","getTask","toastr","closeButton","debug","newestOnTop","progressBar","positionClass","onclick","showDuration","hideDuration","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","fp","editor","showMessage","message","title","time","preventDuplicates","timeOut","TypeMessage","connect","textLink","href","getActiveMenuLinks","map","item","index","key","to","onClick","window","confirm","then","msgsType","textMsgs","catch","e","console","error","sanitizer","dompurify","sanitize","getTaskContent","isShow","stringAndTags","isShowDesc","isMore","task_date_end","task_title","task_desc","task_date_start","task_date_no_limit","task_id","author_name","author_surname","author_patronymic","executor_id","executor_name","executor_patronymic","executor_surname","Fragment","dangerouslySetInnerHTML","__html","Number","data-id-task","data-title","handleClickExecuteTask","pathname","Task","isTasks","classTaskExpired","option","Tasks","classTaskItem","handleClickMore","Pagination","pagesCount","pageCurrentPagination","arr","Array","fill","lastPage","pagePrev","pageNext","handleClickChangePagePagination","data-page-id-pag","it","LoadingData","PageTasks","itemsTasks","loading","_handleClickExecuteTask","_handleClickChangePagePagination","_getSearchData","dataFunc","_getFuncData","_getData","nextProps","nextState","currUrl","nextUrl","nextTasks","textSearchCurr","textSearchNext","visibleTasks","slice","fn","getTasksDispatch","lengthTasks","Math","ceil","finally","dataset","result","newTasks","copyTasks","indexTask","findIndex","splice","deleteTaskFromArrTasks","pageIdPag","dispatch","ConfMinAndMax","freeze","MIN_LENGTH_LOGIN","MAX_LENGTH_LOGIN","MIN_LENGTH_PASSWORD","MAX_LENGTH_PASSWORD","MIN_LENGTH_TEXT","MAX_LENGTH_TEXT","ConfMinAndMaxAddTask","MAX_LENGTH_TEXT_TITLE","MAX_LENGTH_TEXT_DESK","FormSingIn","REDIRECTION_SIGN_IN_TIME","REDIRECTION_TASKS_TIME","_validateForm","login","password","isValidLogin","isValidPassword","_handleLoginChange","validForm","_handlePasswordChange","_handleSubmitForm","FormData","userInfo","getUserInfoToProps","htmlFor","id","minLength","maxLength","required","PageSingIn","FormSingUp","password2","isValidPassword2","isValidEquallyPassword","isValidName","isValidSurname","isValidPatronymic","_handlePassword2Change","_handleNameChange","_handleSurnameChange","handlePatronymicChange","_onBlurInput","onBlur","PageSingUp","CONFIG_FLATPICKR","locale","Russian","defaultDate","mode","dateFormat","minDate","weekNumbers","wrap","CONFIG","removePlugins","toolbar","language","mediaEmbed","previewsInData","FormAddTask","selectedDates","valueSelect","titleTask","descTask","isValidValueSelect","isValidTitleTask","isValidDescTask","_handleDatesChange","_handleDateNoLimitChange","isCheckedDateNoLimit","_handleTitleTaskChange","_handleDescTaskChange","data","_handleSelectChange","handleSubmitForm","setData","clear","setDate","inputDatesRef","React","createRef","textareaRef","elem","current","flatpickr","ClassicEditor","create","newEditor","model","on","getData","initEditor","getAllUsersDispatch","destroy","log","userIdCurrent","ref","onInput","data-input","data-toggle","data-clear","checked","user_id","user_surname","user_name","user_patronymic","PageAddTask","PageTask","fetchTaskDispatch","handleClickExit","executeTaskDispatch","PrivatePage","rest","render","from","ProtectPage","App","getUserInfoDispatch","basename","exact","hostname","middlewareEnhancer","applyMiddleware","thunkMiddleware","composedEnhancers","compose","store","createStore","rootReducer","ReactDOM","querySelector","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c288cbcc.chunk.js","sourcesContent":["const initialState = {\r\n    name: '',\r\n    surname: '',\r\n    patronymic: '',\r\n    userId: 0\r\n}\r\n\r\nconst reducerUser = (state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case 'GET_USER_INFO':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerUser;\r\n","/**\r\n * Функция для проверки длины строки, в промежутке -  >= && <=\r\n * @param str\r\n * @param minLengthStr\r\n * @param maxLengthStr\r\n * @returns {boolean|boolean}\r\n */\r\nexport const checkLengthMinMaxStr = (str, minLengthStr, maxLengthStr) => {\r\n    return (str.length >= minLengthStr) && (str.length <= maxLengthStr);\r\n};\r\n/**\r\n * Истекла ли задача\r\n * @param dateTask - дата задачи.\r\n * @returns {boolean}\r\n */\r\nexport const hasDateExpired = (dateTask) => {\r\n    const today = new Date().getTime();\r\n    const dateEnd = new Date(reverseDate(dateTask)).getTime();\r\n\r\n    return dateEnd < today;\r\n};\r\n/**\r\n * Получение Cookie по имени\r\n * @param name - имя Cookie\r\n * @returns {any}\r\n */\r\nexport const getCookie = (name) => {\r\n    let matches = document.cookie.match(new RegExp(\r\n        // eslint-disable-next-line no-useless-escape\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n};\r\n/**\r\n *  Устанавливает куки с именем name и значением value c опциями.\r\n * @param {String} name\r\n * @param {String} value\r\n * @param {Object} options\r\n */\r\nfunction setCookie(name, value, options = {}) {\r\n    options = {\r\n        path: '/',\r\n        ...options\r\n    };\r\n\r\n    if (options.expires instanceof Date) {\r\n        options.expires = options.expires.toUTCString();\r\n    }\r\n\r\n    let updatedCookie = encodeURIComponent(name) + \"=\" + encodeURIComponent(value);\r\n\r\n    for (let optionKey in options) {\r\n        updatedCookie += \"; \" + optionKey;\r\n        let optionValue = options[optionKey];\r\n        if (optionValue !== true) {\r\n            updatedCookie += \"=\" + optionValue;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\n/**\r\n * Удаление Cookie по её имени.\r\n * @param {String} name\r\n */\r\nexport const deleteCookie = (name) => {\r\n    setCookie(name, \"\", {\r\n        'max-age': -1\r\n    })\r\n}\r\n/**\r\n * Переворачивает дату с сервера для js\r\n * @param {String} date\r\n */\r\nexport const reverseDate = (date) => {\r\n    return date.split('.').reverse().join('-');\r\n}\r\n/**\r\n * Возврашает заголовок для задач в зависимомти от активного скрина.\r\n * @param {String} url\r\n * @param {String} textSearch\r\n */\r\nexport const getActiveTitleTasks = (url, textSearch=\"\") => {\r\n    switch (url) {\r\n        case \"/my-tasks-done\":\r\n            return \"Мои выполненые задачи.\";\r\n        case \"/designated-tasks\":\r\n            return \"Я назначил задачи.\";\r\n        case \"/designated-tasks-done\":\r\n            return \"Выполненные задачи другими.\";\r\n        case \"/search\":\r\n            return `Результаты поиска по запросу - \"${textSearch}\"`;\r\n        default:\r\n            return \"Мои задачи.\";\r\n    }\r\n}\r\n/**\r\n * Удаление задачи. Для страниц с задачами.\r\n * @param {Object} tasks\r\n * @param {Number} idTask\r\n */\r\nexport const deleteTaskFromArrTasks = (tasks, idTask) => {\r\n    let copyTasks = [...tasks];\r\n    const indexTask = copyTasks.findIndex((task) => Number(task.task_id) === Number(idTask));\r\n\r\n    if (indexTask !== -1) {\r\n        copyTasks.splice(indexTask, 1);\r\n    }\r\n\r\n    return copyTasks;\r\n}\r\n/**\r\n * Изменение статуса задачи для страницы задач.\r\n * @param {Object} task\r\n */\r\nexport const changeStatusTask = (task) => {\r\n    return Object.assign({}, task, { task_status: \"1\" });\r\n}\r\n/**\r\n * Получение массива активных(изменяемых в зависимости от типа адреса) ссылок для меню.\r\n * @param {String} url\r\n */\r\nexport const getActiveMenuLinks = (url) => {\r\n    switch (url) {\r\n        case \"/\":\r\n            return [\r\n                { textLink: \"Выполненые задачи мною\", href: \"/my-tasks-done\" },\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n        case \"/my-tasks-done\":\r\n            return [\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n        case \"/designated-tasks\":\r\n            return [\r\n                { textLink: \"Выполненые задачи другими\", href: \"/designated-tasks-done\" },\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n            ]\r\n        case \"/designated-tasks-done\":\r\n            return [\r\n                { textLink: \"Выполненые задачи другими\", href: \"/designated-tasks-done\" },\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n            ]\r\n        case \"/search\":\r\n            return [\r\n                { textLink: \"Мои задачи\", href: \"/\"},\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n        default:\r\n            return [\r\n                { textLink: \"Мои задачи\", href: \"/\" },\r\n                { textLink: \"Я назначил задачи\", href: \"/designated-tasks\" },\r\n            ]\r\n    }\r\n}\r\n/**\r\n * Получаем текст для поиска из параметра q\r\n * @param location\r\n * @returns {string}\r\n */\r\nexport const getTextInSearchParams = (location) => {\r\n    const { search } = location;\r\n    const searchParams = new URLSearchParams(search);\r\n    const searchTextEncode = searchParams.get(\"q\") || '';\r\n    return decodeURIComponent(searchTextEncode);\r\n}\r\n/**\r\n * Проверяет залогинился ли пользователь\r\n * @returns { Boolean }\r\n */\r\nexport const checkLoggedUser = () => (getCookie(\"userInfo\") && getCookie(\"PHPSESSID\"));\r\n","import { changeStatusTask } from \"../helpers/helpers\";\r\n\r\nconst reducerTask = (state = null, action ) => {\r\n    switch (action.type) {\r\n        case 'FETCH_TASK':\r\n            return action.payload;\r\n        case 'EXECUTE_TASK':\r\n            return changeStatusTask(action.payload);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerTask;\r\n","const reducerUsers = (state = [], action ) => {\r\n    switch (action.type) {\r\n        case 'GET_ALL_USERS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerUsers;\r\n","const reducerTasks = (state = [], action ) => {\r\n    switch (action.type) {\r\n        case 'GET_TASKS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducerTasks;\r\n","import { combineReducers } from 'redux';\r\nimport user from \"./user\";\r\nimport task from \"./task\";\r\nimport users from \"./users\";\r\nimport tasks from \"./tasks\";\r\n\r\n\r\n\r\nexport default combineReducers({\r\n    user,\r\n    task,\r\n    users,\r\n    tasks\r\n})\r\n","import React from \"react\";\r\n\r\nexport default function Container(props) {\r\n    return (\r\n        <div className=\"container\">{props.children}</div>\r\n    )\r\n}","import React from \"react\";\r\nimport Container from \"../container/container\";\r\nimport './footer.scss'\r\n\r\nexport default function Footer() {\r\n    return (<footer className=\"footer\">\r\n        <Container>\r\n            <p>Разработка Дмитриев Максим. &copy; 2019 г.</p>\r\n        </Container>\r\n    </footer>);\r\n}\r\n","export const getUserInfo = (payload) => ({ type: 'GET_USER_INFO', payload });\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass SearchByTasks extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            textSearch: props.textSearch || '',\r\n            valid: false\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this._handleChangeTextSearch = this._handleChangeTextSearch.bind(this);\r\n        this._handleSubmitFormSearch = this._handleSubmitFormSearch.bind(this);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form \r\n                onSubmit={this._handleSubmitFormSearch}\r\n                className=\"form form_search\" method=\"get\">\r\n                <h3 className=\"form__title visually-hidden\">Поиск по задачам.</h3>\r\n                <div className=\"form__row form__row_search\">\r\n                    <input className=\"form__input form__input_search\" type=\"search\" name=\"search-field\" placeholder=\"Поиск по задачам\"\r\n                        value={this.state.textSearch}\r\n                        onChange={this._handleChangeTextSearch}\r\n                    />\r\n                    <button \r\n                        disabled={!this.state.valid}\r\n                        className=\"form__button submit\" \r\n                        type=\"submit\">Найти</button>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _handleChangeTextSearch(evt) {\r\n        const value = evt.target.value;\r\n        this.setState({\r\n            textSearch: value,\r\n            valid: Boolean(value.trim())\r\n        })\r\n    }\r\n\r\n    _handleSubmitFormSearch(evt) {\r\n        evt.preventDefault();\r\n        this.props.history.push(`/search?q=${encodeURIComponent(this.state.textSearch.trim())}`)\r\n    }\r\n}\r\n\r\nexport default withRouter(SearchByTasks);\r\n","class ApiFetch {\r\n    /**\r\n     * Общая функция для сетевых запросов\r\n     */\r\n    _fetchRequest = async (\r\n        link,\r\n        params = {\r\n            method: 'GET',\r\n            cache: 'no-store'\r\n        }\r\n    ) => {\r\n\r\n        const response = await fetch(`/ajax/${link}`, params);\r\n\r\n        if (response.ok) {\r\n            return await response.json();\r\n        } else {\r\n            alert(`Ошибка: ${response.status}`);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Получение моих задач\r\n     */\r\n    getMyTasks = () => this._fetchRequest('get-my-tasks.php');\r\n    /**\r\n     * Получение моих выполненных задач\r\n     */\r\n    getMyTasksDone = () => this._fetchRequest('get-my-tasks-done.php');\r\n    /**\r\n     * Получение задач поставленных мною\r\n     */\r\n    getDesignatedTasks = () => this._fetchRequest('get-designated-tasks.php');\r\n    /**\r\n     * Выполненные задачи другими\r\n     */\r\n    getDesignatedTasksDone = () => this._fetchRequest('get-designated-tasks-done.php');\r\n    /**\r\n     * Получение всех пользователей\r\n     */\r\n    getAllUsers = () => this._fetchRequest('get-all-users.php');\r\n    /**\r\n     * Выполнение задачи\r\n     */\r\n    executeTask = (idTask) => this._fetchRequest(`execute-task.php?action=execute&id=${idTask}`);\r\n    /**\r\n     * Добавление задачи\r\n     * @param {Object} formData\r\n     */\r\n    addTask = (formData) => this._fetchRequest(\r\n        `add-task.php`,\r\n        {\r\n            method: 'POST',\r\n            body: formData\r\n        }\r\n    );\r\n    /**\r\n     * Регистрация пользователя на сайте.\r\n     * @param {Object} formData\r\n     */\r\n    signUpUser = (formData) => this._fetchRequest(\r\n        `signup.php`,\r\n        {\r\n            method: 'POST',\r\n            body: formData\r\n        }\r\n    );\r\n    /**\r\n     * Авторизация пользователя на сайте.\r\n     * @param {Object} formData\r\n     */\r\n    signInUser = (formData) => this._fetchRequest(\r\n        `signin.php`,\r\n        {\r\n            method: 'POST',\r\n            body: formData\r\n        }\r\n    );\r\n    /**\r\n     * Выход с сайта.\r\n     */\r\n    logOut = () => this._fetchRequest(`logout.php?action=exit`);\r\n    /**\r\n     * Поиск задачи\r\n     * @param {String} text\r\n     */\r\n    getResultSearchText = (text) => this._fetchRequest(`get-result-search.php?search-field=${text}`);\r\n    /**\r\n     * Получение задачи по её ID\r\n     * @param {Number} idTask\r\n     */\r\n    getTask = (idTask) => this._fetchRequest(`get-task.php?id=${idTask}`);\r\n}\r\n\r\nexport const apiFetch = new ApiFetch()\r\n","import toastr from 'toastr';\r\n\r\ntoastr.options = {\r\n    closeButton: false,\r\n    debug: false,\r\n    newestOnTop: false,\r\n    progressBar: true,\r\n    positionClass: `toast-top-center`,\r\n    onclick: null,\r\n    showDuration: `300`,\r\n    hideDuration: `1000`,\r\n    extendedTimeOut: `1000`,\r\n    showEasing: `swing`,\r\n    hideEasing: `linear`,\r\n    showMethod: `fadeIn`,\r\n    hideMethod: `fadeOut`\r\n};\r\n/**\r\n * Сообщение для пользователя\r\n * @param {String} type (`info`, `success`, `warning`, `error`)\r\n * @param {String} message `text`\r\n * @param {String} title `text`\r\n * @param {Number} time\r\n */\r\nconst showMessage = (type, message, title = ``, options = { time: 5000, preventDuplicates: false }) => {\r\n    toastr.options.timeOut = options.time;\r\n    toastr.options.preventDuplicates = options.preventDuplicates;\r\n    if (title) {\r\n        toastr[type](message, title)\r\n    } else {\r\n        toastr[type](message)\r\n    }\r\n};\r\n/**\r\n * Типы сообщений для функции showMessage\r\n */\r\nconst TypeMessage = {\r\n    INFO: `info`,\r\n    SUCCESS: `success`,\r\n    WARNING: `warning`,\r\n    ERROR: `error`\r\n};\r\n\r\nexport { showMessage, TypeMessage }\r\n","import flatpickr from 'flatpickr';\r\nimport { Russian } from 'flatpickr/dist/l10n/ru';\r\n\r\nconst CONFIG_FLATPICKR = {\r\n  locale: Russian,\r\n  defaultDate: `today`,\r\n  mode: `range`,\r\n  dateFormat: `d.m.Y`,\r\n  minDate: `today`,\r\n  weekNumbers: true,\r\n  wrap: true\r\n};\r\nlet fp;\r\n\r\n/**\r\n * Иницилизация flatpickr\r\n * @param elem\r\n */\r\nexport const initFlatpickr = (elem) => {\r\n  fp = flatpickr(elem, CONFIG_FLATPICKR);\r\n  fp.setDate(+new Date(), true, CONFIG_FLATPICKR.dateFormat);\r\n};\r\n/**\r\n * Размонтирование flatpickr\r\n */\r\nexport const destroyFlatpickr = () => {\r\n  fp.destroy();\r\n}\r\n/**\r\n * Очишает данные в flatpickr и устанавливает текушую дату\r\n */\r\nexport const clearDataFlatpickr = () => {\r\n  fp.clear();\r\n  fp.setDate(+new Date(), true, CONFIG_FLATPICKR.dateFormat);\r\n};\r\n","import ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\nimport '@ckeditor/ckeditor5-build-classic/build/translations/ru';\r\n// import { showMessage, TypeMessage } from './show-user-message';\r\n\r\nconst CONFIG = {\r\n  removePlugins: ['ImageUpload'],\r\n  toolbar: ['Heading', 'bold', 'italic', '|', 'Link', 'bulletedList', 'numberedList', 'blockQuote', 'MediaEmbed', 'Undo', 'Redo'],\r\n  language: 'ru',\r\n  mediaEmbed: {\r\n    previewsInData: true\r\n  }\r\n};\r\nlet editor;\r\n/**\r\n * Инициализация ckeditor5\r\n * @param elem\r\n * @param fn - функция получения данных из редактора.\r\n */\r\nexport const initEditor = (elem, fn) => {\r\n  // const MAX_CHARACTERS = 1000 || TEXTAREA.maxLength;\r\n\r\n  ClassicEditor.create(elem, CONFIG)\r\n    .then(newEditor => {\r\n      editor = newEditor;\r\n    editor.model.document.on('change:data', () => {\r\n        const data = editor.getData();\r\n        fn(data);\r\n    });\r\n      // return true\r\n    })\r\n    .catch(error => {\r\n      console.error(error);\r\n    });\r\n\r\n};\r\n/**\r\n * Размонтирование Редактора\r\n */\r\nexport const destroyEditor = () => {\r\n  editor.destroy()\r\n    .catch(error => {\r\n      console.log(error);\r\n    });\r\n}\r\n/**\r\n * Очишает введеные данные в ckeditor5\r\n */\r\nexport const clearDataEditor = () => {\r\n  editor.setData('')\r\n};\r\n","import React from \"react\";\r\nimport \"./user-menu.scss\"\r\nimport PropTypes from \"prop-types\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport {deleteCookie, getActiveMenuLinks } from \"../../helpers/helpers\";\r\nimport { apiFetch } from \"../../api/api-fetch\";\r\nimport {showMessage, TypeMessage} from \"../../plugins/show-message\";\r\nimport { connect} from \"react-redux\";\r\n\r\nconst UserMenu = ({ user, url, history}) => {\r\n    const handleClickExit = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        const isQuestion = window.confirm(`Вы действительно хотите выйти?`);\r\n        if (isQuestion) {\r\n            apiFetch.logOut()\r\n                .then(response => {\r\n                    showMessage(response.msgsType, '', response.textMsgs);\r\n                    if (response.msgsType === 'success') {\r\n                        deleteCookie('PHPSESSID');\r\n                        deleteCookie('userInfo');\r\n                        history.push('/sing-in');\r\n                    }\r\n                    return true;\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    showMessage(TypeMessage.ERROR, e, );\r\n                });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <nav className=\"user-menu\">\r\n            <span className=\"user-menu__user-name\">{`${user.surname} ${user.name} ${user.patronymic}`}</span>\r\n            {\r\n                getActiveMenuLinks(url).map((item, index) => {\r\n                    return (\r\n                        <Link\r\n                            className=\"user-menu__link link\"\r\n                            key={item.href + index}\r\n                            to={item.href}\r\n                            >{item.textLink}</Link>\r\n                    )\r\n                })\r\n            }\r\n            <Link\r\n                className=\"user-menu__link link\"\r\n                to=\"/add-task\"\r\n                >Поставить задачу</Link>\r\n            <a\r\n                className=\"user-menu__link user-menu__logout link\"\r\n                onClick={handleClickExit}\r\n                href=\"/log-out\">Выйти</a>\r\n        </nav>\r\n    )\r\n};\r\n\r\nUserMenu.propTypes = {\r\n    url: PropTypes.string.isRequired,\r\n    user: PropTypes.shape({\r\n        surname: PropTypes.string,\r\n        name: PropTypes.string,\r\n        patronymic: PropTypes.string\r\n    }).isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({ user: state.user })\r\n\r\nexport default withRouter(\r\n    connect(mapStateToProps)(UserMenu)\r\n)\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./task.scss\";\r\nimport { hasDateExpired } from \"../../helpers/helpers\";\r\nimport dompurify from 'dompurify';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst sanitizer = dompurify.sanitize;\r\n\r\nconst renderDesc = (isShow, stringAndTags) => {\r\n    return isShow ? sanitizer(stringAndTags) : \"\";\r\n}\r\n\r\nconst getTaskContent = (props) => {\r\n    const {\r\n        isShowDesc,\r\n        isMore,\r\n        task,\r\n        userId\r\n    } = props;\r\n    const {\r\n        task_date_end,\r\n        task_title,\r\n        task_desc,\r\n        task_date_start,\r\n        task_status,\r\n        task_date_no_limit,\r\n        task_id,\r\n        author_name,\r\n        author_surname,\r\n        author_patronymic,\r\n        executor_id,\r\n        executor_name,\r\n        executor_patronymic,\r\n        executor_surname\r\n    } = task;\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <h3 className=\"task__title\">{task_title}</h3>\r\n            <div\r\n                className=\"task__desc\"\r\n                dangerouslySetInnerHTML={{ __html: renderDesc(isShowDesc, task_desc) }}\r\n                >\r\n            </div>\r\n            <footer className=\"task__footer\">\r\n                <div className=\"task__date-start\">Начало задачи: {task_date_start}\r\n                </div>\r\n                <div className=\"task__date-end\">Закончить задачу до: {Number(task_date_no_limit) === 1 ? 'без даты окончания' : task_date_end}\r\n                </div>\r\n                <div className=\"task__status\">Статус: {Number(task_status) ? 'Выполнено.': 'В работе.'}\r\n                </div>\r\n                <div className=\"task__execute\">\r\n                    {\r\n                        !Number(task_status) && (userId === Number(executor_id))\r\n                            ? <button\r\n                                data-id-task={task_id}\r\n                                data-title={task_title}\r\n                                onClick={props.handleClickExecuteTask}\r\n                            >Выполнить задачу</button>\r\n                            : \"\"\r\n                    }\r\n                </div>\r\n                <div className=\"task__author\">Назначил: {author_surname} {author_name} {author_patronymic}\r\n                </div>\r\n                <div className=\"task__executor\">Испонитель: {executor_surname} {executor_name} {executor_patronymic}\r\n                </div>\r\n            </footer>\r\n            {\r\n                isMore ?\r\n                    <Link\r\n                        to={location => ({ ...location, pathname: `/task/${task_id}` })}\r\n                        className=\"link\"\r\n                        >Подробнее</Link>\r\n                    : ''\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport const Task = (props) => {\r\n    const {\r\n        isShowDesc,\r\n        isTasks,\r\n        task\r\n    } = props;\r\n    const {\r\n        task_date_end,\r\n        task_date_no_limit\r\n    } = task;\r\n\r\n    if (isTasks) {\r\n            return (\r\n                getTaskContent(props)\r\n            )\r\n        }\r\n\r\n    const classTaskExpired = hasDateExpired(task_date_end) && Number(task_date_no_limit) === 0 ? `task_expired` : ``;\r\n\r\n    return (\r\n        <section className={`task ${classTaskExpired} ${isShowDesc ? `task_single` : ''}`}>\r\n            {getTaskContent(props)}\r\n        </section>\r\n    )\r\n}\r\n\r\nTask.propTypes = {\r\n    isShowDesc: PropTypes.bool.isRequired,\r\n    isMore: PropTypes.bool.isRequired,\r\n    task: PropTypes.shape({\r\n        task_date_end: PropTypes.string.isRequired,\r\n        task_title: PropTypes.string.isRequired,\r\n        task_date_start: PropTypes.string.isRequired,\r\n        task_status: PropTypes.string.isRequired,\r\n        author_name: PropTypes.string.isRequired,\r\n        executor_name: PropTypes.string.isRequired,\r\n        task_id: PropTypes.string.isRequired\r\n    }).isRequired,\r\n    handleClickMore: PropTypes.func\r\n};\r\n\r\nexport default Task\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Task from \"../task/task\";\r\nimport { hasDateExpired } from \"../../helpers/helpers\";\r\nimport \"./tasks.scss\";\r\n\r\nconst option = {\r\n    isMore: true,\r\n    isShowDesc: false,\r\n    isTasks: true\r\n};\r\n\r\nexport const Tasks = (props) => {\r\n    const {\r\n        title,\r\n        tasks,\r\n        userId\r\n        } = props;\r\n\r\n    return (\r\n        <section className=\"tasks\">\r\n            <h2 className=\"tasks__title\">{title}</h2>\r\n            {\r\n                tasks.length ?\r\n                    <ul className=\"tasks__lists\">\r\n                        {\r\n                            tasks.map((task)=> {\r\n                                const classTaskItem = option.isTasks ? 'task' : '';\r\n                                const classTaskExpired = hasDateExpired(task.task_date_end) && Number(task.task_date_no_limit) === 0 ? `task_expired` : ``;\r\n\r\n                                return (\r\n                                    <li\r\n                                        className={`tasks__item ${classTaskItem} ${classTaskExpired}`}\r\n                                        key={task.task_id}>\r\n                                        <Task\r\n                                            isMore={option.isMore}\r\n                                            isShowDesc={option.isShowDesc}\r\n                                            isTasks={option.isTasks}\r\n                                            task={task}\r\n                                            userId={userId}\r\n                                            handleClickMore={props.handleClickMore}\r\n                                            handleClickExecuteTask={props.handleClickExecuteTask}\r\n                                        />\r\n                                    </li>\r\n                                )\r\n                            })\r\n                        }\r\n                    </ul> :\r\n                    <div>Нет никаких задач</div>\r\n            }\r\n        </section>\r\n    )\r\n};\r\n\r\nTasks.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    tasks: PropTypes.array.isRequired,\r\n    handleClickMore: PropTypes.func\r\n};\r\nexport default Tasks","import React from \"react\";\r\nimport \"./pagination.scss\"\r\n\r\nconst Pagination = (props) => {\r\n    const {pagesCount, pageCurrentPagination} = props;\r\n    const arr = new Array(pagesCount).fill(pagesCount);\r\n    const lastPage = arr.length;\r\n    const pagePrev = (pageCurrentPagination - 1) === 0 ? 1 : (pageCurrentPagination - 1);\r\n    const pageNext = (pageCurrentPagination + 1) > lastPage ? lastPage : (pageCurrentPagination + 1);\r\n\r\n    return (\r\n        <ul className=\"pagination-list\">\r\n            <li className=\"pagination-list__item pagination-list__item_prev\">\r\n                {\r\n                    pagePrev ===  pageCurrentPagination?\r\n                        <a className=\"pagination-list__link\"\r\n                           onClick={(evt) => evt.preventDefault()}\r\n                           href=\"#prev\">&lt;</a>\r\n                        : <a className=\"pagination-list__link\"\r\n                             onClick={props.handleClickChangePagePagination}\r\n                             data-page-id-pag={pagePrev} href={\"page-\" + pagePrev}>&lt;</a>\r\n                }\r\n            </li>\r\n            {\r\n                arr.map((it, index) => (\r\n                    <li className={`pagination-list__item${pageCurrentPagination === (index + 1) ?\r\n                        \" pagination-list__item_active\" \r\n                        : \"\"}`}\r\n                        key={\"page-\" + index}>\r\n                        <a className=\"pagination-list__link\"\r\n                           onClick={props.handleClickChangePagePagination}\r\n                           data-page-id-pag={index + 1} href={\"page-\" + (index + 1)}>{index + 1}</a>\r\n                    </li>)\r\n                )\r\n            }\r\n            <li className=\"pagination-list__item pagination-list__item_next\">\r\n                {\r\n                    pageNext ===  pageCurrentPagination ?\r\n                        <a className=\"pagination-list__link\"\r\n                           onClick={(evt) => evt.preventDefault()}\r\n                           href=\"#next\">&gt;</a>\r\n                        : <a className=\"pagination-list__link\"\r\n                             onClick={props.handleClickChangePagePagination}\r\n                             data-page-id-pag={pageNext} href={\"page-\" + pageNext}>&gt;</a>\r\n                }\r\n            </li>\r\n        </ul>\r\n    )\r\n};\r\n\r\nexport default Pagination","import React from \"react\";\r\nimport \"./loading-data.scss\";\r\n\r\nconst LoadingData = () => {\r\n  return (\r\n    <div className=\"loader-container\">\r\n      <div className=\"loader\">\r\n        <div className=\"text\">Загрузка данных</div>\r\n        <div className=\"dots\">\r\n          <div className=\"dot\"></div>\r\n          <div className=\"dot\"></div>\r\n          <div className=\"dot\"></div>\r\n          <div className=\"dot\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default LoadingData","import React, { Component } from \"react\";\r\nimport SearchByTasks from \"../components/search-by-tasks/search-by-tasks\";\r\nimport UserMenu from \"../components/user-menu/user-menu\";\r\nimport Tasks from \"../components/tasks/tasks\";\r\nimport Pagination from \"../components/pagination/pagination\";\r\nimport {\r\n    getActiveTitleTasks,\r\n    deleteTaskFromArrTasks,\r\n    getTextInSearchParams\r\n} from \"../helpers/helpers\";\r\nimport { apiFetch } from \"../api/api-fetch\";\r\nimport { TypeMessage, showMessage } from '../plugins/show-message';\r\nimport LoadingData from '../components/loading-data/loading-data';\r\nimport { connect } from \"react-redux\";\r\nimport { allTasks } from \"../actions\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass PageTasks extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.initialState = {\r\n            itemsTasks: 9,\r\n            pagesCount: 0,\r\n            pageCurrentPagination: 1,\r\n            loading: true,\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this._handleClickExecuteTask = this._handleClickExecuteTask.bind(this);\r\n        this._handleClickChangePagePagination = this._handleClickChangePagePagination.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { url } = this.props.match;\r\n\r\n        if (url === '/search') {\r\n            const textSearch =  getTextInSearchParams(this.props.location);\r\n            this._getSearchData(textSearch);\r\n        } else {\r\n            const dataFunc = this._getFuncData(url);\r\n            this._getData(dataFunc);\r\n        }\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        const { url: currUrl } = this.props.match;\r\n        const { url: nextUrl } = nextProps.match;\r\n        const { tasks } = this.props;\r\n        const { tasks: nextTasks } = nextProps;\r\n\r\n        if (tasks.length !== nextTasks.length) {\r\n            return true;\r\n        }\r\n\r\n        const isUpdate = (currUrl !== nextUrl) && (nextUrl !== '/search');\r\n\r\n        if (isUpdate) {\r\n            const dataFunc = this._getFuncData(nextUrl);\r\n            this._getData(dataFunc);\r\n            return true;\r\n        }\r\n\r\n        const textSearchCurr =  getTextInSearchParams(this.props.location);\r\n        const textSearchNext =  getTextInSearchParams(nextProps.location);\r\n        const isPageSearch = (currUrl === '/search') || (nextUrl === '/search');\r\n\r\n        if (isPageSearch && (textSearchCurr !== textSearchNext)) {\r\n            this._getSearchData(textSearchNext);\r\n            return true;\r\n        }\r\n\r\n        return (nextState.loading !== this.state.loading) ||\r\n            (nextState.pageCurrentPagination !== this.state.pageCurrentPagination);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            tasks,\r\n            user,\r\n            match,\r\n            location\r\n        } = this.props;\r\n\r\n        const { url } = match;\r\n        const { userId } = user;\r\n        const textSearch = getTextInSearchParams(location);\r\n\r\n        const {\r\n            pageCurrentPagination,\r\n            itemsTasks,\r\n            pagesCount\r\n         } = this.state;\r\n\r\n        const visibleTasks = tasks.length ?\r\n            tasks.slice((pageCurrentPagination - 1) * itemsTasks, pageCurrentPagination * itemsTasks) :\r\n            tasks;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <UserMenu\r\n                    url={url}\r\n                />\r\n                {\r\n                    this.state.loading ?\r\n                        <LoadingData /> :\r\n                        <React.Fragment>\r\n                            <SearchByTasks\r\n                                textSearch={textSearch}\r\n                            />\r\n                            <Tasks\r\n                                tasks={visibleTasks}\r\n                                title={getActiveTitleTasks(url, textSearch)}\r\n                                userId={userId}\r\n                                handleClickExecuteTask={this._handleClickExecuteTask}\r\n                            />\r\n                            {\r\n                                tasks.length > itemsTasks ?\r\n                                    <Pagination\r\n                                        pagesCount={pagesCount}\r\n                                        pageCurrentPagination={pageCurrentPagination}\r\n                                        handleClickChangePagePagination={this._handleClickChangePagePagination}\r\n                                    />\r\n                                    :\r\n                                    null\r\n                            }\r\n                        </React.Fragment>\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    _getData(fn) {\r\n        this.setState({\r\n            loading: true,\r\n            pageCurrentPagination: this.initialState.pageCurrentPagination\r\n        });\r\n\r\n        fn()\r\n            .then(tasks => {\r\n                if (tasks.msgsType === 'error') {\r\n                    this.props.getTasksDispatch([])\r\n                    return true\r\n                }\r\n\r\n                this.props.getTasksDispatch(tasks);\r\n\r\n                const lengthTasks = tasks.length;\r\n\r\n                this.setState((state) => {\r\n                    const { itemsTasks } = state;\r\n\r\n                    return {\r\n                        pagesCount: Math.ceil((lengthTasks / itemsTasks))\r\n                    }\r\n                });\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    _getFuncData(url) {\r\n        switch (url) {\r\n            case \"/my-tasks-done\":\r\n                return apiFetch.getMyTasksDone\r\n            case \"/designated-tasks\":\r\n                return apiFetch.getDesignatedTasks\r\n            case \"/designated-tasks-done\":\r\n                return apiFetch.getDesignatedTasksDone\r\n            default:\r\n                return apiFetch.getMyTasks\r\n        }\r\n    }\r\n\r\n    _handleClickExecuteTask(evt) {\r\n        const idTask = evt.target.dataset.idTask;\r\n        const title = evt.target.dataset.title;\r\n\r\n        const isQuestion = window.confirm(`Вы хотите выполнить задачу - ${title}?`)\r\n\r\n        if (isQuestion) {\r\n            apiFetch.executeTask(idTask)\r\n                .then(result => {\r\n                    showMessage(result.msgsType, '', result.textMsgs);\r\n                    if (result.msgsType === 'success') {\r\n                        const newTasks = deleteTaskFromArrTasks(this.props.tasks, idTask);\r\n\r\n                        this.props.getTasksDispatch(newTasks);\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n                });\r\n        }\r\n    }\r\n\r\n    _handleClickChangePagePagination(evt) {\r\n        evt.preventDefault();\r\n        this.setState({\r\n            pageCurrentPagination: +evt.target.dataset.pageIdPag\r\n        });\r\n    }\r\n\r\n    _getSearchData(textSearch) {\r\n        apiFetch.getResultSearchText(textSearch)\r\n            .then(tasks => {\r\n                if (tasks.msgsType === 'warning') {\r\n                    this.props.getTasksDispatch([]);\r\n                    this.setState({\r\n                        pageCurrentPagination: this.initialState.pageCurrentPagination\r\n                    })\r\n                    return true\r\n                }\r\n\r\n                this.props.getTasksDispatch(tasks);\r\n\r\n                const lengthTasks = tasks.length;\r\n\r\n                this.setState((state) => {\r\n                    const { itemsTasks } = state;\r\n\r\n                    return {\r\n                        pagesCount: Math.ceil((lengthTasks / itemsTasks))\r\n                    }\r\n                })\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    tasks: state.tasks\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getTasksDispatch: (tasks) => {\r\n            dispatch(allTasks(tasks));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PageTasks));\r\n","export const allTasks = (payload) => ({ type: 'GET_TASKS', payload });\r\n","export const ConfMinAndMax = Object.freeze({\r\n        MIN_LENGTH_LOGIN: 2,\r\n        MAX_LENGTH_LOGIN: 20,\r\n        MIN_LENGTH_PASSWORD: 6,\r\n        MAX_LENGTH_PASSWORD: 20,\r\n        MIN_LENGTH_TEXT: 2,\r\n        MAX_LENGTH_TEXT: 20\r\n    });\r\nexport const ConfMinAndMaxAddTask = Object.freeze({\r\n        MIN_LENGTH_TEXT: 2,\r\n        MAX_LENGTH_TEXT_TITLE: 255,\r\n        MAX_LENGTH_TEXT_DESK: 255,\r\n    });\r\nexport const ConfTimes = Object.freeze({\r\n        REDIRECTION_SIGN_IN_TIME: 3000,\r\n        REDIRECTION_TASKS_TIME: 3000,\r\n    });\r\n","import React, { Component } from \"react\";\r\nimport \"./forms.scss\";\r\nimport {checkLengthMinMaxStr, getCookie} from \"../../helpers/helpers\";\r\nimport { ConfMinAndMax } from \"../../vars/vars\";\r\nimport { checkLoggedUser } from \"../../helpers/helpers\";\r\nimport { apiFetch } from \"../../api/api-fetch\";\r\nimport { TypeMessage, showMessage } from '../../plugins/show-message';\r\n\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { connect} from \"react-redux\";\r\nimport { getUserInfo } from \"../../actions\";\r\n\r\n\r\nclass FormSingIn extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            login: \"\",\r\n            password: \"\",\r\n            validForm: false\r\n        };\r\n        this.state = this.initialState;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form\r\n                onSubmit={this._handleSubmitForm}\r\n                className=\"form form_center form_auth\"\r\n                method=\"post\">\r\n                <h3 className=\"form__title\">Авторизация</h3>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"login\">Ваш логин:</label>\r\n                    <input\r\n                        value={this.state.login}\r\n                        onChange={this._handleLoginChange}\r\n                        className=\"form__input input\"\r\n                        id=\"login\" type=\"text\" name=\"login\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_LOGIN}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_LOGIN}\r\n                        required=\"required\"/>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"password\">Пароль:</label>\r\n                    <input\r\n                        value={this.state.password}\r\n                        onChange={this._handlePasswordChange}\r\n                        className=\"form__input input\"\r\n                        id=\"password\" type=\"password\" name=\"password\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_PASSWORD}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_PASSWORD}\r\n                        required=\"required\"/>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <button\r\n                        className=\"form__button submit\"\r\n                        disabled={!this.state.validForm}\r\n                        type=\"submit\">Войти</button>\r\n                </div>\r\n                <div className=\"form__row form__row_text-center\">\r\n                    <Link\r\n                        to=\"/sing-up\"\r\n                        className=\"form__link-signup link\"\r\n                        >Зарегистрироваться</Link>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _validateForm = (state) => {\r\n        const {login, password} = state;\r\n        const isValidLogin = checkLengthMinMaxStr(login, ConfMinAndMax.MIN_LENGTH_LOGIN, ConfMinAndMax.MAX_LENGTH_LOGIN);\r\n        const isValidPassword = checkLengthMinMaxStr(password, ConfMinAndMax.MIN_LENGTH_PASSWORD, ConfMinAndMax.MAX_LENGTH_PASSWORD);\r\n\r\n        return isValidLogin && isValidPassword;\r\n    };\r\n\r\n    _handleLoginChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            login: value,\r\n            validForm: this._validateForm(Object.assign({}, state, {login: value}))\r\n        }));\r\n    };\r\n\r\n    _handlePasswordChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            password: value,\r\n            validForm: this._validateForm(Object.assign({}, state, {password: value}))\r\n        }));\r\n    };\r\n\r\n    _handleSubmitForm = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        let formData = new FormData(evt.target);\r\n\r\n        apiFetch.signInUser(formData)\r\n            .then(result => {\r\n                showMessage(result.msgsType, '', result.textMsgs);\r\n                if (result.msgsType === 'success') {\r\n                    this.setState(this.initialState);\r\n\r\n                    if (checkLoggedUser()) {\r\n                        const userInfo = getCookie(\"userInfo\").split(\";\");\r\n                        const user = getUserInfo({\r\n                            name: userInfo[0],\r\n                            surname: userInfo[1],\r\n                            patronymic: userInfo[2],\r\n                            userId: Number(userInfo[3])\r\n                        });\r\n\r\n                        this.props.getUserInfoToProps(user);\r\n                        this.props.history.push('/');\r\n                    }\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n            });\r\n    };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getUserInfoToProps: (user) => (dispatch(user))\r\n    }\r\n}\r\n\r\nexport default withRouter(\r\n    connect(null, mapDispatchToProps)(FormSingIn)\r\n)\r\n","import React from \"react\";\r\nimport FormSingIn from \"../components/forms/form-sing-in\";\r\n\r\nconst PageSingIn = () => (<FormSingIn />);\r\nexport default PageSingIn\r\n","import React, { Component } from \"react\";\r\nimport \"./forms.scss\"\r\nimport { checkLengthMinMaxStr } from \"../../helpers/helpers\";\r\nimport { ConfMinAndMax } from \"../../vars/vars\";\r\nimport { showMessage, TypeMessage } from \"../../plugins/show-message\";\r\nimport { apiFetch } from \"../../api/api-fetch\";\r\n\r\nimport { Link} from \"react-router-dom\";\r\n\r\nclass FormSingUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            login: \"\",\r\n            password: \"\",\r\n            password2: \"\",\r\n            name: \"\",\r\n            surname: \"\",\r\n            patronymic: \"\",\r\n            validForm: false\r\n        };\r\n\r\n        this.state = this.initialState;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <form\r\n                onSubmit={this._handleSubmitForm}\r\n                className=\"form form_center form_reg\"\r\n                method=\"post\">\r\n                <h3 className=\"form__title\">Регистрация нового пользователя\r\n                </h3>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"login\">Ваш логин:</label>\r\n                    <input\r\n                        value={this.state.login}\r\n                        onChange={this._handleLoginChange}\r\n                        className=\"form__input input\"\r\n                        id=\"login\" type=\"text\" name=\"login\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_LOGIN}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_LOGIN}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"password\">Пароль:</label>\r\n                    <input\r\n                        value={this.state.password}\r\n                        onChange={this._handlePasswordChange}\r\n                        className=\"form__input input\"\r\n                        id=\"password\" type=\"password\" name=\"password\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_PASSWORD}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_PASSWORD}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"password2\">Повторите пароль:</label>\r\n                    <input\r\n                        value={this.state.password2}\r\n                        onChange={this._handlePassword2Change}\r\n                        onBlur={this._onBlurInput}\r\n                        className=\"form__input input\"\r\n                        id=\"password2\" type=\"password\" name=\"password2\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_PASSWORD}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_PASSWORD}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"name\">Имя:</label>\r\n                    <input\r\n                        value={this.state.name}\r\n                        onChange={this._handleNameChange}\r\n                        className=\"form__input input\"\r\n                        id=\"name\" type=\"text\" name=\"name\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_TEXT}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_TEXT}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"surname\">Фамилия:</label>\r\n                    <input\r\n                        value={this.state.surname}\r\n                        onChange={this._handleSurnameChange}\r\n                        className=\"form__input input\"\r\n                        id=\"surname\" type=\"text\" name=\"surname\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_TEXT}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_TEXT}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label htmlFor=\"patronymic\">Отчество:</label>\r\n                    <input\r\n                        value={this.state.patronymic}\r\n                        onChange={this.handlePatronymicChange}\r\n                        className=\"form__input input\"\r\n                        id=\"patronymic\" type=\"text\" name=\"patronymic\"\r\n                        minLength={ConfMinAndMax.MIN_LENGTH_TEXT}\r\n                        maxLength={ConfMinAndMax.MAX_LENGTH_TEXT}\r\n                        required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <button\r\n                        disabled={!this.state.validForm}\r\n                        className=\"form__button submit\"\r\n                        type=\"submit\">Зарегистрироваться</button>\r\n                </div>\r\n                <div className=\"form__row form__row_text-center\">\r\n                    <Link\r\n                        to=\"/sing-in\"\r\n                        className=\"form__link-signup link\"\r\n                    >Авторизоваться</Link>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _validateForm = (state) => {\r\n        const { login, password, password2, name, surname, patronymic } = state;\r\n        const isValidLogin = checkLengthMinMaxStr(login, ConfMinAndMax.MIN_LENGTH_LOGIN, ConfMinAndMax.MAX_LENGTH_LOGIN);\r\n        const isValidPassword = checkLengthMinMaxStr(password, ConfMinAndMax.MIN_LENGTH_PASSWORD, ConfMinAndMax.MAX_LENGTH_PASSWORD);\r\n        const isValidPassword2 = checkLengthMinMaxStr(password2, ConfMinAndMax.MIN_LENGTH_PASSWORD, ConfMinAndMax.MAX_LENGTH_PASSWORD);\r\n        const isValidEquallyPassword = password === password2;\r\n        const isValidName = checkLengthMinMaxStr(name, ConfMinAndMax.MIN_LENGTH_TEXT, ConfMinAndMax.MAX_LENGTH_TEXT);\r\n        const isValidSurname = checkLengthMinMaxStr(surname, ConfMinAndMax.MIN_LENGTH_TEXT, ConfMinAndMax.MAX_LENGTH_TEXT);\r\n        const isValidPatronymic = checkLengthMinMaxStr(patronymic, ConfMinAndMax.MIN_LENGTH_TEXT, ConfMinAndMax.MAX_LENGTH_TEXT);\r\n\r\n        return isValidLogin && isValidPassword && isValidPassword2 && isValidEquallyPassword && isValidName && isValidSurname && isValidPatronymic;\r\n    };\r\n\r\n    _handleLoginChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            login: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { login: value }))\r\n        }));\r\n    };\r\n\r\n    _handlePasswordChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            password: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { password: value }))\r\n        }));\r\n    };\r\n\r\n    _handlePassword2Change = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            password2: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { password2: value }))\r\n        }));\r\n    };\r\n\r\n    _handleNameChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            name: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { name: value }))\r\n        }));\r\n    };\r\n\r\n    _handleSurnameChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            surname: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { surname: value }))\r\n        }));\r\n    };\r\n\r\n    handlePatronymicChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            patronymic: value,\r\n            validForm: this._validateForm(Object.assign({}, state, { patronymic: value }))\r\n        }));\r\n    };\r\n\r\n    _handleSubmitForm = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        const formData = new FormData(evt.target);\r\n\r\n        apiFetch.signUpUser(formData)\r\n            .then(result => {\r\n                showMessage(result.msgsType, '', result.textMsgs);\r\n                if (result.msgsType === 'success') {\r\n                    this.setState(this.initialState);\r\n\r\n                    return true\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n            });\r\n    };\r\n\r\n    _onBlurInput = () => {\r\n        const { password, password2 } = this.state;\r\n        if (password.length >= ConfMinAndMax.MIN_LENGTH_PASSWORD && password !== password2) {\r\n            showMessage(TypeMessage.WARNING, `В поле \"Повторите пароль\", пароль не совпадает с полем \"Пароль\"!`);\r\n        }\r\n    };\r\n}\r\nexport default FormSingUp\r\n","import React from \"react\";\r\nimport FormSingUp from \"../components/forms/form-sing-up\";\r\n\r\nconst PageSingUp = () => (<FormSingUp/>)\r\nexport default PageSingUp\r\n","import React, { Component } from \"react\";\r\nimport \"./forms.scss\";\r\n\r\nimport { initFlatpickr, destroyFlatpickr } from \"../../plugins/flatpickr\";\r\nimport { initEditor, destroyEditor } from \"../../plugins/editor\";\r\nimport { checkLengthMinMaxStr } from \"../../helpers/helpers\";\r\nimport { ConfMinAndMaxAddTask } from \"../../vars/vars\";\r\nimport { apiFetch } from \"../../api/api-fetch\";\r\nimport { TypeMessage, showMessage } from '../../plugins/show-message';\r\nimport { clearDataEditor } from \"../../plugins/editor\";\r\nimport { clearDataFlatpickr } from \"../../plugins/flatpickr\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { allUsers } from \"../../actions\";\r\n\r\n\r\nclass FormAddTask extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.initialState = {\r\n            selectedDates: \"\",\r\n            isCheckedDateNoLimit: false,\r\n            valueSelect: \"disabled\",\r\n            titleTask: \"\",\r\n            descTask: \"\",\r\n            validForm: false,\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this.inputDatesRef = React.createRef();\r\n        this.textareaRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        initFlatpickr(this.inputDatesRef.current);\r\n        initEditor(this.textareaRef.current, this._handleDescTaskChange);\r\n        apiFetch.getAllUsers()\r\n            .then(users => {\r\n                if (users.msgsType === 'error') {\r\n                    this.props.getAllUsersDispatch([]);\r\n                    return;\r\n                }\r\n\r\n                this.props.getAllUsersDispatch(users);\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        destroyEditor();\r\n        destroyFlatpickr();\r\n    }\r\n\r\n    render() {\r\n      const { userId: userIdCurrent } = this.props.user;\r\n\r\n        return (\r\n            <form\r\n                onSubmit={this.handleSubmitForm}\r\n                className=\"form form_task-add\"\r\n                action=\"\" method=\"post\">\r\n                <div className=\"form__row form__row_label-group-two\">\r\n                    <label htmlFor=\"date\">Дата начала и окончания задачи</label>\r\n                    <div\r\n                        ref={this.inputDatesRef}\r\n                        className=\"flatpickr\">\r\n                        <input\r\n                            className=\"form__date input\"\r\n                            onInput={this._handleDatesChange}\r\n                            id=\"date\" type=\"text\" name=\"date\"\r\n                            placeholder=\"выберите дату или даты\" data-input=\"data-input\" required=\"required\" />\r\n                        <button type=\"button\" title=\"Открыт/Закрыть календарь\" data-toggle=\"\">календарь</button>\r\n                        <button type=\"button\" title=\"Очистить календарь\" data-clear=\"\">очистить</button>\r\n                    </div>\r\n                </div>\r\n                <div className=\"form__row\">\r\n                    <input\r\n                        className=\"form__checkbox\"\r\n                        onChange={this._handleDateNoLimitChange}\r\n                        checked={this.state.isCheckedDateNoLimit}\r\n                        type=\"checkbox\" name=\"date-no-limit\" id=\"date-no-limit\" />\r\n                    <label htmlFor=\"date-no-limit\">Без даты окончания (дата окончания выбранная выше, будет игнорирована)</label>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <span>Выберите исполнителя</span>\r\n                    <select\r\n                        value={this.state.valueSelect}\r\n                        onChange={this._handleSelectChange}\r\n                        className=\"form__select\" name=\"executor\" required=\"required\">\r\n                        <option value=\"disabled\" disabled=\"disabled\">Не выбрано</option>\r\n                        {\r\n                            this.props.users.map(user => (\r\n                                <option\r\n                                    value={user.user_id}\r\n                                    key={user.user_id}\r\n                                > { userIdCurrent === Number(user.user_id) ? \"Я\" : `${user.user_surname} ${user.user_name} ${user.user_patronymic}` } </option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label>Загаловок задачи</label>\r\n                    <textarea\r\n                        value={this.state.titleTask}\r\n                        onChange={this._handleTitleTaskChange}\r\n                        className=\"form__title-add textarea\" name=\"title\" maxLength=\"255\" placeholder=\"сделать ...\" required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_content-column\">\r\n                    <label>Дополнительная информация по задаче</label>\r\n                    <textarea\r\n                        className=\"textarea\"\r\n                        ref={this.textareaRef}\r\n                        value={this.state.descTask}\r\n                        onChange={this._handleDescTaskChange}\r\n                        id=\"textarea-text\" name=\"text\" maxLength=\"1000\" placeholder=\"Обьяснение задачи ...\" required=\"required\" />\r\n                </div>\r\n                <div className=\"form__row form__row_text-center\">\r\n                    <button\r\n                        disabled={!this.state.validForm}\r\n                        className=\"form__submit submit\"\r\n                        type=\"submit\">Добавить задачу</button>\r\n                    <Link\r\n                        className=\"form__link link\"\r\n                        to=\"/\"\r\n                    >К списку моих задач</Link>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n\r\n    _validateForm = (state) => {\r\n        const { selectedDates, valueSelect, titleTask, descTask } = state;\r\n        const isValidValueSelect = valueSelect !== \"disabled\";\r\n        const isValidTitleTask = checkLengthMinMaxStr(titleTask, ConfMinAndMaxAddTask.MIN_LENGTH_TEXT, ConfMinAndMaxAddTask.MAX_LENGTH_TEXT_TITLE);\r\n        const isValidDescTask = checkLengthMinMaxStr(descTask, ConfMinAndMaxAddTask.MIN_LENGTH_TEXT, ConfMinAndMaxAddTask.MAX_LENGTH_TEXT_DESK);\r\n\r\n        return selectedDates && isValidValueSelect && isValidTitleTask && isValidDescTask;\r\n    };\r\n\r\n    _handleDatesChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            selectedDates: value,\r\n            validForm: this._validateForm(Object.assign(state, { selectedDates: value }))\r\n        }));\r\n    };\r\n\r\n    _handleDateNoLimitChange = () => {\r\n        this.setState((state) => ({\r\n            isCheckedDateNoLimit: !state.isCheckedDateNoLimit\r\n        }));\r\n    };\r\n\r\n    _handleTitleTaskChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            titleTask: value,\r\n            validForm: this._validateForm(Object.assign(state, { titleTask: value }))\r\n        }));\r\n    };\r\n\r\n    _handleDescTaskChange = (data) => {\r\n        this.setState((state) => ({\r\n            descTask: data,\r\n            validForm: this._validateForm(Object.assign(state, { descTask: data }))\r\n        }));\r\n    };\r\n\r\n    _handleSelectChange = (evt) => {\r\n        const value = evt.target.value;\r\n        this.setState((state) => ({\r\n            valueSelect: value,\r\n            validForm: this._validateForm(Object.assign(state, { valueSelect: value }))\r\n        }));\r\n    };\r\n\r\n    handleSubmitForm = (evt) => {\r\n        evt.preventDefault();\r\n        const formData = new FormData(evt.target);\r\n\r\n        apiFetch.addTask(formData)\r\n            .then(result => {\r\n                showMessage(result.msgsType, '', result.textMsgs);\r\n                if (result.msgsType === 'success') {\r\n                    this.setState({\r\n                        isCheckedDateNoLimit: false,\r\n                        valueSelect: \"disabled\",\r\n                        titleTask: \"\",\r\n                        validForm: false,\r\n                    })\r\n\r\n                    clearDataEditor();\r\n                    clearDataFlatpickr();\r\n                }\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n            });\r\n    };\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    user: state.user,\r\n    users: state.users\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getAllUsersDispatch: (users) => {\r\n            dispatch(allUsers(users));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(FormAddTask);\r\n","export const allUsers = (payload) => ({ type: 'GET_ALL_USERS', payload });\r\n","import React from \"react\";\r\nimport FormAddTask from \"../components/forms/form-add-task\";\r\n\r\nconst PageAddTask = () => (<FormAddTask />)\r\nexport default PageAddTask\r\n","import React, { Component } from \"react\";\r\nimport Task from \"../components/task/task\"\r\nimport UserMenu from \"../components/user-menu/user-menu\";\r\nimport LoadingData from '../components/loading-data/loading-data';\r\nimport { apiFetch } from \"../api/api-fetch\";\r\nimport { TypeMessage, showMessage } from '../plugins/show-message';\r\nimport { connect } from \"react-redux\";\r\nimport { fetchTask, toPerformTask } from \"../actions\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst option = {\r\n    isMore: false,\r\n    isShowDesc: true\r\n};\r\n\r\nclass PageTask extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.initialState = {\r\n            loading: true\r\n        };\r\n        this.state = this.initialState;\r\n\r\n        this._handleClickExecuteTask = this._handleClickExecuteTask.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const idTask = this.props.match.params.id;\r\n\r\n        apiFetch.getTask(idTask)\r\n            .then(task => {\r\n                if (task.msgsType === 'error') {\r\n                    this.props.fetchTaskDispatch(null);\r\n                }\r\n\r\n                this.props.fetchTaskDispatch(task);\r\n            })\r\n            .catch(e => {\r\n                console.error(e);\r\n                showMessage(TypeMessage.ERROR, e, 'Ошибка получения данных.');\r\n            })\r\n            .finally(() => {\r\n                this.setState({ loading: false });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            user,\r\n            handleClickExit,\r\n            task\r\n        } = this.props;\r\n\r\n        const { userId } = user;\r\n\r\n        return (\r\n            <React.Fragment>\r\n                <UserMenu\r\n                    handleClickExit={handleClickExit}\r\n                    user={user}\r\n                    url={''}\r\n                />\r\n                {\r\n                    this.state.loading ?\r\n                        <LoadingData /> :\r\n                        task ?\r\n                            <Task\r\n                                isMore={option.isMore}\r\n                                isShowDesc={option.isShowDesc}\r\n                                task={task}\r\n                                userId={userId}\r\n                                handleClickExecuteTask={this._handleClickExecuteTask}\r\n                            /> :\r\n                            <p>Такая задача не существует!</p>\r\n                }\r\n            </React.Fragment>\r\n        )\r\n    }\r\n\r\n    _handleClickExecuteTask(evt) {\r\n        const idTask = evt.target.dataset.idTask;\r\n        const title = evt.target.dataset.title;\r\n\r\n        const isQuestion = window.confirm(`Вы хотите выполнить задачу - ${title}?`)\r\n\r\n        if (isQuestion) {\r\n            apiFetch.executeTask(idTask)\r\n                .then(result => {\r\n                    showMessage(result.msgsType, '', result.textMsgs);\r\n                    if (result.msgsType === 'success') {\r\n                        this.props.executeTaskDispatch(this.props.task);\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.error(e);\r\n                    showMessage(TypeMessage.ERROR, e, 'Произошла ошибка.');\r\n                });\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        user: state.user,\r\n        task: state.task\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        fetchTaskDispatch: (task) => {\r\n            dispatch(fetchTask(task));\r\n        },\r\n        executeTaskDispatch: (task) => {\r\n            dispatch(toPerformTask(task));\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(\r\n    connect(mapStateToProps, mapDispatchToProps)(PageTask)\r\n);\r\n","export const fetchTask = (payload) => ({type: 'FETCH_TASK', payload});\r\nexport const toPerformTask = (payload) => ({type: 'EXECUTE_TASK', payload});\r\n","import { Redirect, Route } from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport { checkLoggedUser } from \"../helpers/helpers\";\r\n\r\nexport function PrivatePage({ children, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n                checkLoggedUser() ? (\r\n                    children\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/sing-in\",\r\n                            state: { from: location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n\r\nexport function ProtectPage({ children, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n                !checkLoggedUser() ? (\r\n                    children\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/\",\r\n                            state: { from: location }\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\n","import React, { Component } from 'react';\nimport Container from \"./components/container/container\";\nimport Footer from './components/footer/footer';\nimport { getCookie,  checkLoggedUser } from  \"./helpers/helpers\";\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { connect} from \"react-redux\";\nimport { getUserInfo} from \"./actions\";\n\nimport PageTasks from './pages/page-tasks';\nimport PageSingIn from './pages/page-sign-in';\nimport PageSingUp from './pages/page-sign-up';\nimport PageAddTask from \"./pages/page-add-task\";\nimport PageTask from \"./pages/page-task\";\nimport { ProtectPage, PrivatePage} from \"./shields/shields\";\n\nimport 'normalize.css';\nimport './Common.scss';\n\nexport class App extends Component {\n    componentDidMount() {\n        if (checkLoggedUser()) {\n            const userInfo = getCookie(\"userInfo\").split(\";\");\n            const user = getUserInfo({\n                name: userInfo[0],\n                surname: userInfo[1],\n                patronymic: userInfo[2],\n                userId: Number(userInfo[3])\n            });\n\n            this.props.getUserInfoDispatch(user);\n        }\n    }\n\n    render() {\n        return (\n            <Router basename=\"/react/\" >\n                <main className={`bg main`}>\n                    <Container>\n                        <Switch>\n                            <PrivatePage path=\"/\" exact>\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/search\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/my-tasks-done\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/designated-tasks\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <PrivatePage path=\"/designated-tasks-done\">\n                                <PageTasks/>\n                            </PrivatePage>\n                            <ProtectPage path=\"/sing-up\">\n                                <PageSingUp />\n                            </ProtectPage>\n                            <ProtectPage path=\"/sing-in\">\n                                <PageSingIn />\n                            </ProtectPage>\n                            <PrivatePage path=\"/add-task\">\n                                <PageAddTask />\n                            </PrivatePage>\n                            <PrivatePage path=\"/task/:id\">\n                                <PageTask/>\n                            </PrivatePage>\n                            <Route>\n                                <h1>Такой страницы нету!</h1>\n                            </Route>\n                        </Switch>\n                    </Container>\n                </main>\n                <Footer />\n            </Router>\n        )\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n    getUserInfoDispatch: (user) => {\n        dispatch(user);\n    }\n})\n\nexport default connect(null, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { applyMiddleware, createStore, compose } from 'redux'\nimport { Provider } from 'react-redux';\nimport thunkMiddleware from 'redux-thunk';\nimport rootReducer from './reducers';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nconst middlewareEnhancer = applyMiddleware(thunkMiddleware);\nconst composedEnhancers = compose(middlewareEnhancer);\nconst store = createStore(rootReducer, undefined, composedEnhancers);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  , document.querySelector('.root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}